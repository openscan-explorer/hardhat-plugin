"use strict";(globalThis.webpackChunkopenscan=globalThis.webpackChunkopenscan||[]).push([[2306],{3440:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar Loader = react__WEBPACK_IMPORTED_MODULE_1___default().memo(function (_a) {\n    var _b = _a.size, size = _b === void 0 ? 40 : _b, _c = _a.color, color = _c === void 0 ? "#10b981" : _c, text = _a.text;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loader-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loader-spinner", style: {\n                    width: "".concat(size, "px"),\n                    height: "".concat(size, "px"),\n                    border: "3px solid rgba(16, 185, 129, 0.2)",\n                    borderTop: "3px solid ".concat(color),\n                } }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "loader-text", children: text })] }));\n});\nLoader.displayName = "Loader";\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loader);\n\n\n//# sourceURL=webpack://openscan/./src/components/common/Loader.tsx?')},21742:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeAbiString: () => (/* binding */ decodeAbiString),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/**\n * Shared hex decoding utilities for browser-compatible string conversion.\n * Used for decoding ABI-encoded strings from RPC responses.\n */\n/**\n * Convert a hex string to a UTF-8 string.\n * Stops at first null character (0x00).\n * Browser-compatible alternative to Node.js Buffer.from(hex, "hex").toString("utf8")\n */\nfunction hexToString(hex) {\n    var str = "";\n    for (var i = 0; i < hex.length; i += 2) {\n        var charCode = parseInt(hex.slice(i, i + 2), 16);\n        if (charCode === 0)\n            break;\n        str += String.fromCharCode(charCode);\n    }\n    return str;\n}\n/**\n * Decode an ABI-encoded string from a hex response.\n * ABI-encoded strings have the format:\n * - bytes 0-32: offset to string data (usually 0x20 = 32)\n * - bytes 32-64: string length\n * - bytes 64+: string data (padded to 32 bytes)\n *\n * @param hex - The hex string including "0x" prefix\n * @returns The decoded string, or empty string on error\n */\nfunction decodeAbiString(hex) {\n    try {\n        var data = hex.slice(2); // Remove "0x" prefix\n        if (data.length >= 128) {\n            var lengthHex = data.slice(64, 128);\n            var length_1 = parseInt(lengthHex, 16);\n            var strHex = data.slice(128, 128 + length_1 * 2);\n            return hexToString(strHex);\n        }\n        return "";\n    }\n    catch (_a) {\n        return "";\n    }\n}\n\n\n//# sourceURL=webpack://openscan/./src/utils/hexUtils.ts?')},39321:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ 34794);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../context */ 75528);\n/* harmony import */ var _utils_erc1155Metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/erc1155Metadata */ 48783);\n/* harmony import */ var _common_Loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/Loader */ 3440);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);\n    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\nvar ERC1155TokenDetails = function () {\n    var _a = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useParams)(), networkId = _a.networkId, contractAddress = _a.address, tokenId = _a.tokenId;\n    var rpcUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.AppContext).rpcUrls;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), metadata = _b[0], setMetadata = _b[1];\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), collectionInfo = _c[0], setCollectionInfo = _c[1];\n    var _d = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true), loading = _d[0], setLoading = _d[1];\n    var _e = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), error = _e[0], setError = _e[1];\n    var _f = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), tokenUri = _f[0], setTokenUri = _f[1];\n    // Balance lookup state\n    var _g = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""), balanceAddress = _g[0], setBalanceAddress = _g[1];\n    var _h = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), balance = _h[0], setBalance = _h[1];\n    var _j = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), balanceLoading = _j[0], setBalanceLoading = _j[1];\n    var _k = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), balanceError = _k[0], setBalanceError = _k[1];\n    var numericNetworkId = Number(networkId) || 1;\n    // Get RPC URL\n    var rpcUrlsForChain = rpcUrls[numericNetworkId];\n    var rpcUrl = Array.isArray(rpcUrlsForChain) ? rpcUrlsForChain[0] : rpcUrlsForChain;\n    // Fetch token metadata\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (!contractAddress || !tokenId || !rpcUrl) {\n            setLoading(false);\n            setError("Missing contract address, token ID, or RPC URL");\n            return;\n        }\n        setLoading(true);\n        setError(null);\n        Promise.all([\n            (0,_utils_erc1155Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchERC1155MetadataWithUri)(contractAddress, tokenId, rpcUrl),\n            (0,_utils_erc1155Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchCollectionInfo)(contractAddress, rpcUrl),\n        ])\n            .then(function (_a) {\n            var metadataResult = _a[0], collectionResult = _a[1];\n            if (metadataResult.metadata) {\n                setMetadata(metadataResult.metadata);\n            }\n            else {\n                setError("Failed to fetch token metadata");\n            }\n            setTokenUri(metadataResult.tokenUri);\n            setCollectionInfo(collectionResult);\n        })\n            .catch(function (err) {\n            console.error("Error fetching metadata:", err);\n            setError(err.message || "Failed to fetch token metadata");\n        })\n            .finally(function () { return setLoading(false); });\n    }, [contractAddress, tokenId, rpcUrl]);\n    // Handle balance lookup\n    var handleBalanceLookup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, err_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!balanceAddress || !contractAddress || !tokenId || !rpcUrl) {\n                        setBalanceError("Please enter a valid address");\n                        return [2 /*return*/];\n                    }\n                    // Validate address format\n                    if (!/^0x[a-fA-F0-9]{40}$/.test(balanceAddress)) {\n                        setBalanceError("Invalid address format");\n                        return [2 /*return*/];\n                    }\n                    setBalanceLoading(true);\n                    setBalanceError(null);\n                    setBalance(null);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    return [4 /*yield*/, (0,_utils_erc1155Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchTokenBalance)(contractAddress, balanceAddress, tokenId, rpcUrl)];\n                case 2:\n                    result = _a.sent();\n                    if (result !== null) {\n                        setBalance(result);\n                    }\n                    else {\n                        setBalanceError("Failed to fetch balance");\n                    }\n                    return [3 /*break*/, 5];\n                case 3:\n                    err_1 = _a.sent();\n                    setBalanceError(err_1 instanceof Error ? err_1.message : "Failed to fetch balance");\n                    return [3 /*break*/, 5];\n                case 4:\n                    setBalanceLoading(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }, [balanceAddress, contractAddress, tokenId, rpcUrl]);\n    if (loading) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "block-label", children: "ERC-1155 Token" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content-loading", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common_Loader__WEBPACK_IMPORTED_MODULE_4__["default"], { text: "Loading token metadata..." }) })] }) }));\n    }\n    if (error) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "block-label", children: "ERC-1155 Token" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "text-error margin-0", children: ["Error: ", error] }) })] }) }));\n    }\n    var imageUrl = metadata ? (0,_utils_erc1155Metadata__WEBPACK_IMPORTED_MODULE_3__.getImageUrl)(metadata) : null;\n    // Token name from metadata, collection name from contract\n    var tokenName = metadata === null || metadata === void 0 ? void 0 : metadata.name;\n    var collectionName = collectionInfo === null || collectionInfo === void 0 ? void 0 : collectionInfo.name;\n    var collectionSymbol = collectionInfo === null || collectionInfo === void 0 ? void 0 : collectionInfo.symbol;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "block-display-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-header", children: [tokenName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc1155-token-name", children: tokenName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-header-title", children: [collectionName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "nft-collection-link", children: [collectionName, collectionSymbol && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "nft-collection-symbol", children: ["(", collectionSymbol, ")"] }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-detail-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-main-section", children: [imageUrl && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "erc1155-image-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: imageUrl, alt: tokenName || "Token #".concat(tokenId), className: "erc1155-token-image", onError: function (e) {\n                                            e.target.style.display = "none";\n                                        } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Token Details" }) }), collectionName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Collection:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "address-link", children: [collectionName, collectionSymbol && " (".concat(collectionSymbol, ")")] }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Contract:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "address-link", children: contractAddress }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Token ID:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value tx-mono", children: tokenId })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Token Standard:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "token-standard-badge token-standard-erc1155", children: "ERC-1155" }) })] })] })] }), (metadata === null || metadata === void 0 ? void 0 : metadata.description) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Description" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nft-description", children: metadata.description })] })), (metadata === null || metadata === void 0 ? void 0 : metadata.attributes) && metadata.attributes.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Properties" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-count", children: metadata.attributes.length })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "erc1155-attributes-grid", children: metadata.attributes.map(function (attr, index) { return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-attribute-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc1155-attribute-type", children: attr.trait_type }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc1155-attribute-value", children: String(attr.value) })] }, "".concat(attr.trait_type, "-").concat(index))); }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Balance Lookup" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-balance-lookup", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-balance-input-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Enter address (0x...)", value: balanceAddress, onChange: function (e) { return setBalanceAddress(e.target.value); }, className: "erc1155-balance-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: handleBalanceLookup, disabled: balanceLoading, className: "erc1155-balance-button", children: balanceLoading ? "Checking..." : "Check Balance" })] }), balanceError && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "erc1155-balance-error", children: balanceError }), balance !== null && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc1155-balance-result", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc1155-balance-label", children: "Balance:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc1155-balance-value", children: balance })] }))] })] }), ((metadata === null || metadata === void 0 ? void 0 : metadata.external_url) || (metadata === null || metadata === void 0 ? void 0 : metadata.animation_url)) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Links" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nft-links", children: [(metadata === null || metadata === void 0 ? void 0 : metadata.external_url) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: metadata.external_url, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button", children: "External URL \\u2197" })), (metadata === null || metadata === void 0 ? void 0 : metadata.animation_url) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: metadata.animation_url.startsWith("ipfs://")\n                                                ? metadata.animation_url.replace("ipfs://", "https://ipfs.io/ipfs/")\n                                                : metadata.animation_url, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button", children: "View Animation \\u2197" }))] })] })), tokenUri && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Token URI" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nft-token-uri", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { className: "nft-token-uri-code", children: tokenUri }), !tokenUri.startsWith("data:") && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: tokenUri.startsWith("ipfs://")\n                                                ? tokenUri.replace("ipfs://", "https://ipfs.io/ipfs/")\n                                                : tokenUri, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button nft-token-uri-link", children: "Open URI \\u2197" }))] })] })), metadata && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "tx-section btn-toggle-section", onClick: function () {\n                                        var elem = document.getElementById("raw-metadata-content");\n                                        var icon = document.getElementById("raw-metadata-icon");\n                                        if (elem && icon) {\n                                            var isHidden = elem.style.display === "none";\n                                            elem.style.display = isHidden ? "block" : "none";\n                                            icon.textContent = isHidden ? "▼" : "▶";\n                                        }\n                                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Raw Metadata" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: "raw-metadata-icon", className: "contract-section-toggle", children: "\\u25B6" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: "raw-metadata-content", className: "tx-input-data hidden", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { children: JSON.stringify(metadata, null, 2) }) })] }))] })] }) }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ERC1155TokenDetails);\n\n\n//# sourceURL=webpack://openscan/./src/components/pages/tokenDetails/ERC1155TokenDisplay.tsx?')},48783:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchCollectionInfo: () => (/* binding */ fetchCollectionInfo),\n/* harmony export */   fetchERC1155Metadata: () => (/* binding */ fetchERC1155Metadata),\n/* harmony export */   fetchERC1155MetadataWithUri: () => (/* binding */ fetchERC1155MetadataWithUri),\n/* harmony export */   fetchTokenBalance: () => (/* binding */ fetchTokenBalance),\n/* harmony export */   fetchTokenUri: () => (/* binding */ fetchTokenUri),\n/* harmony export */   getImageUrl: () => (/* binding */ getImageUrl),\n/* harmony export */   ipfsToHttp: () => (/* binding */ ipfsToHttp),\n/* harmony export */   substituteTokenId: () => (/* binding */ substituteTokenId)\n/* harmony export */ });\n/* harmony import */ var _hexUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hexUtils */ 21742);\n/**\n * ERC1155 Token Metadata Utilities\n * Handles fetching and parsing ERC1155 token metadata from various URI formats\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);\n    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n/**\n * Convert IPFS URI to HTTP gateway URL\n */\nfunction ipfsToHttp(uri) {\n    if (uri.startsWith("ipfs://")) {\n        return uri.replace("ipfs://", "https://ipfs.io/ipfs/");\n    }\n    if (uri.startsWith("ipfs/")) {\n        return "https://ipfs.io/".concat(uri);\n    }\n    return uri;\n}\n/**\n * Substitute {id} placeholder in URI with hex-padded token ID\n * Per ERC1155 spec: 64 hex chars, lowercase, no 0x prefix\n */\nfunction substituteTokenId(uri, tokenId) {\n    // Convert tokenId to BigInt, then to hex, pad to 64 chars\n    var tokenIdBigInt = BigInt(tokenId);\n    var hexId = tokenIdBigInt.toString(16).toLowerCase().padStart(64, "0");\n    return uri.replace("{id}", hexId);\n}\n/**\n * Parse data URI (base64 encoded JSON)\n */\nfunction parseDataUri(uri) {\n    try {\n        // Handle data:application/json;base64,...\n        if (uri.startsWith("data:application/json;base64,")) {\n            var base64Data = uri.slice("data:application/json;base64,".length);\n            var jsonString = atob(base64Data);\n            return JSON.parse(jsonString);\n        }\n        // Handle data:application/json,...\n        if (uri.startsWith("data:application/json,")) {\n            var jsonString = decodeURIComponent(uri.slice("data:application/json,".length));\n            return JSON.parse(jsonString);\n        }\n        return null;\n    }\n    catch (error) {\n        console.error("Failed to parse data URI:", error);\n        return null;\n    }\n}\n/**\n * Fetch ERC1155 token URI from contract\n */\nfunction fetchTokenUri(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var tokenIdBigInt, tokenIdHex, data, response, result, hex, lengthHex, length_1, strHex, uri, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 3, , 4]);\n                    tokenIdBigInt = BigInt(tokenId);\n                    tokenIdHex = tokenIdBigInt.toString(16).padStart(64, "0");\n                    data = "0x0e89341c".concat(tokenIdHex);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (result.error || !result.result || result.result === "0x") {\n                        return [2 /*return*/, null];\n                    }\n                    hex = result.result.slice(2);\n                    if (hex.length < 128)\n                        return [2 /*return*/, null];\n                    lengthHex = hex.slice(64, 128);\n                    length_1 = parseInt(lengthHex, 16);\n                    strHex = hex.slice(128, 128 + length_1 * 2);\n                    uri = (0,_hexUtils__WEBPACK_IMPORTED_MODULE_0__.hexToString)(strHex);\n                    return [2 /*return*/, uri];\n                case 3:\n                    error_1 = _a.sent();\n                    console.error("Failed to fetch token URI:", error_1);\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Fetch balance of an address for a specific token ID\n */\nfunction fetchTokenBalance(contractAddress, ownerAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ownerPadded, tokenIdBigInt, tokenIdHex, data, response, result, balance, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 3, , 4]);\n                    ownerPadded = ownerAddress.toLowerCase().slice(2).padStart(64, "0");\n                    tokenIdBigInt = BigInt(tokenId);\n                    tokenIdHex = tokenIdBigInt.toString(16).padStart(64, "0");\n                    data = "0x00fdd58e".concat(ownerPadded).concat(tokenIdHex);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (result.error || !result.result || result.result === "0x") {\n                        return [2 /*return*/, "0"];\n                    }\n                    balance = BigInt(result.result).toString();\n                    return [2 /*return*/, balance];\n                case 3:\n                    error_2 = _a.sent();\n                    console.error("Failed to fetch token balance:", error_2);\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Fetch and parse ERC1155 token metadata\n */\nfunction fetchERC1155Metadata(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetchERC1155MetadataWithUri(contractAddress, tokenId, rpcUrl)];\n                case 1:\n                    result = _a.sent();\n                    return [2 /*return*/, result.metadata];\n            }\n        });\n    });\n}\n/**\n * Fetch and parse ERC1155 token metadata along with the raw tokenURI\n */\nfunction fetchERC1155MetadataWithUri(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var uri, httpUri, response, metadata, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetchTokenUri(contractAddress, tokenId, rpcUrl)];\n                case 1:\n                    uri = _a.sent();\n                    if (!uri) {\n                        return [2 /*return*/, { metadata: null, tokenUri: null }];\n                    }\n                    // Step 2: Substitute {id} placeholder if present\n                    uri = substituteTokenId(uri, tokenId);\n                    // Step 3: Handle different URI schemes\n                    // Data URI - parse directly\n                    if (uri.startsWith("data:")) {\n                        return [2 /*return*/, { metadata: parseDataUri(uri), tokenUri: uri }];\n                    }\n                    httpUri = ipfsToHttp(uri);\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 5, , 6]);\n                    return [4 /*yield*/, fetch(httpUri)];\n                case 3:\n                    response = _a.sent();\n                    if (!response.ok) {\n                        console.error("Failed to fetch metadata:", response.status);\n                        return [2 /*return*/, { metadata: null, tokenUri: uri }];\n                    }\n                    return [4 /*yield*/, response.json()];\n                case 4:\n                    metadata = _a.sent();\n                    return [2 /*return*/, { metadata: metadata, tokenUri: uri }];\n                case 5:\n                    error_3 = _a.sent();\n                    console.error("Failed to fetch/parse metadata:", error_3);\n                    return [2 /*return*/, { metadata: null, tokenUri: uri }];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Get display-ready image URL from metadata\n */\nfunction getImageUrl(metadata) {\n    var image = metadata.image || metadata.animation_url;\n    if (!image)\n        return null;\n    return ipfsToHttp(image);\n}\n/**\n * Fetch collection info (name, symbol) from ERC1155 contract\n * Note: ERC1155 doesn\'t have a standard totalSupply, it\'s per-token ID\n */\nfunction fetchCollectionInfo(contractAddress, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var info, calls, _i, calls_1, call, response, data, decoded, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    info = {};\n                    calls = [\n                        { selector: "0x06fdde03", key: "name" }, // name()\n                        { selector: "0x95d89b41", key: "symbol" }, // symbol()\n                    ];\n                    _i = 0, calls_1 = calls;\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < calls_1.length)) return [3 /*break*/, 7];\n                    call = calls_1[_i];\n                    _b.label = 2;\n                case 2:\n                    _b.trys.push([2, 5, , 6]);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: call.selector }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 3:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 4:\n                    data = _b.sent();\n                    if (!data.error && data.result && data.result !== "0x") {\n                        decoded = (0,_hexUtils__WEBPACK_IMPORTED_MODULE_0__.decodeAbiString)(data.result);\n                        if (decoded) {\n                            if (call.key === "name")\n                                info.name = decoded;\n                            if (call.key === "symbol")\n                                info.symbol = decoded;\n                        }\n                    }\n                    return [3 /*break*/, 6];\n                case 5:\n                    _a = _b.sent();\n                    return [3 /*break*/, 6];\n                case 6:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 7: return [2 /*return*/, info];\n            }\n        });\n    });\n}\n\n\n//# sourceURL=webpack://openscan/./src/utils/erc1155Metadata.ts?')},58623:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ 34794);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../context */ 75528);\n/* harmony import */ var _utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/erc721Metadata */ 65593);\n/* harmony import */ var _common_Loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/Loader */ 3440);\n\n\n\n\n\n\nvar ERC721TokenDisplay = function () {\n    var _a = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useParams)(), networkId = _a.networkId, contractAddress = _a.address, tokenId = _a.tokenId;\n    var rpcUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.AppContext).rpcUrls;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), metadata = _b[0], setMetadata = _b[1];\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), collectionInfo = _c[0], setCollectionInfo = _c[1];\n    var _d = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), owner = _d[0], setOwner = _d[1];\n    var _e = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), approval = _e[0], setApproval = _e[1];\n    var _f = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true), loading = _f[0], setLoading = _f[1];\n    var _g = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), error = _g[0], setError = _g[1];\n    var _h = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), tokenUri = _h[0], setTokenUri = _h[1];\n    var numericNetworkId = Number(networkId) || 1;\n    // Get RPC URL\n    var rpcUrlsForChain = rpcUrls[numericNetworkId];\n    var rpcUrl = Array.isArray(rpcUrlsForChain) ? rpcUrlsForChain[0] : rpcUrlsForChain;\n    // Fetch token metadata and ownership info\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (!contractAddress || !tokenId || !rpcUrl) {\n            setLoading(false);\n            setError("Missing contract address, token ID, or RPC URL");\n            return;\n        }\n        setLoading(true);\n        setError(null);\n        Promise.all([\n            (0,_utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchERC721MetadataWithUri)(contractAddress, tokenId, rpcUrl),\n            (0,_utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchTokenOwner)(contractAddress, tokenId, rpcUrl),\n            (0,_utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchTokenApproval)(contractAddress, tokenId, rpcUrl),\n            (0,_utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__.fetchCollectionInfo)(contractAddress, rpcUrl),\n        ])\n            .then(function (_a) {\n            var metadataResult = _a[0], ownerResult = _a[1], approvalResult = _a[2], collectionResult = _a[3];\n            if (metadataResult.metadata) {\n                setMetadata(metadataResult.metadata);\n            }\n            setTokenUri(metadataResult.tokenUri);\n            setOwner(ownerResult);\n            setApproval(approvalResult);\n            setCollectionInfo(collectionResult);\n            // Only show error if we couldn\'t get metadata AND owner\n            if (!metadataResult.metadata && !ownerResult) {\n                setError("Token may not exist or failed to fetch data");\n            }\n        })\n            .catch(function (err) {\n            console.error("Error fetching token data:", err);\n            setError(err.message || "Failed to fetch token data");\n        })\n            .finally(function () { return setLoading(false); });\n    }, [contractAddress, tokenId, rpcUrl]);\n    if (loading) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "block-label", children: "ERC-721 NFT" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content-loading", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common_Loader__WEBPACK_IMPORTED_MODULE_4__["default"], { text: "Loading NFT metadata..." }) })] }) }));\n    }\n    if (error && !owner) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "block-label", children: "ERC-721 NFT" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "text-error margin-0", children: ["Error: ", error] }) })] }) }));\n    }\n    var imageUrl = metadata ? (0,_utils_erc721Metadata__WEBPACK_IMPORTED_MODULE_3__.getImageUrl)(metadata) : null;\n    // Token name from metadata, collection name from contract\n    var tokenName = metadata === null || metadata === void 0 ? void 0 : metadata.name;\n    var collectionName = collectionInfo === null || collectionInfo === void 0 ? void 0 : collectionInfo.name;\n    var collectionSymbol = collectionInfo === null || collectionInfo === void 0 ? void 0 : collectionInfo.symbol;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "block-display-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc721-header", children: [tokenName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc721-token-name", children: tokenName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc721-header-title", children: [collectionName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "nft-collection-link", children: [collectionName, collectionSymbol && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "nft-collection-symbol", children: ["(", collectionSymbol, ")"] }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-mono header-subtitle", children: ["Token ID: ", tokenId] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc721-detail-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc721-main-section", children: [imageUrl && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "erc721-image-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: imageUrl, alt: tokenName || "NFT #".concat(tokenId), className: "erc721-token-image", onError: function (e) {\n                                            e.target.style.display = "none";\n                                        } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "NFT Details" }) }), collectionName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Collection:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "address-link", children: [collectionName, collectionSymbol && " (".concat(collectionSymbol, ")")] }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Contract:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(contractAddress), className: "address-link", children: contractAddress }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Token ID:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value tx-mono", children: tokenId })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Token Standard:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "token-standard-badge token-standard-erc721", children: "ERC-721" }) })] }), (collectionInfo === null || collectionInfo === void 0 ? void 0 : collectionInfo.totalSupply) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Collection Size:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tx-value", children: [Number(collectionInfo.totalSupply).toLocaleString(), " NFTs"] })] })), owner && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Owner:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(owner), className: "address-link", children: owner }) })] })), approval && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-label", children: "Approved:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.Link, { to: "/".concat(networkId, "/address/").concat(approval), className: "address-link", children: approval }) })] }))] })] }), (metadata === null || metadata === void 0 ? void 0 : metadata.description) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Description" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nft-description", children: metadata.description })] })), (metadata === null || metadata === void 0 ? void 0 : metadata.attributes) && metadata.attributes.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Properties" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-count", children: metadata.attributes.length })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "erc721-attributes-grid", children: metadata.attributes.map(function (attr, index) { return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "erc721-attribute-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc721-attribute-type", children: attr.trait_type }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "erc721-attribute-value", children: String(attr.value) })] }, "".concat(attr.trait_type, "-").concat(index))); }) })] })), ((metadata === null || metadata === void 0 ? void 0 : metadata.external_url) || (metadata === null || metadata === void 0 ? void 0 : metadata.animation_url)) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Links" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nft-links", children: [(metadata === null || metadata === void 0 ? void 0 : metadata.external_url) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: metadata.external_url, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button", children: "External URL \\u2197" })), (metadata === null || metadata === void 0 ? void 0 : metadata.animation_url) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: metadata.animation_url.startsWith("ipfs://")\n                                                ? metadata.animation_url.replace("ipfs://", "https://ipfs.io/ipfs/")\n                                                : metadata.animation_url, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button", children: "View Animation \\u2197" }))] })] })), tokenUri && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tx-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Token URI" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nft-token-uri", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { className: "nft-token-uri-code", children: tokenUri }), !tokenUri.startsWith("data:") && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: tokenUri.startsWith("ipfs://")\n                                                ? tokenUri.replace("ipfs://", "https://ipfs.io/ipfs/")\n                                                : tokenUri, target: "_blank", rel: "noopener noreferrer", className: "nft-link-button nft-token-uri-link", children: "Open URI \\u2197" }))] })] })), metadata && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tx-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "tx-section btn-toggle-section", onClick: function () {\n                                        var elem = document.getElementById("raw-metadata-content");\n                                        var icon = document.getElementById("raw-metadata-icon");\n                                        if (elem && icon) {\n                                            var isHidden = elem.style.display === "none";\n                                            elem.style.display = isHidden ? "block" : "none";\n                                            icon.textContent = isHidden ? "▼" : "▶";\n                                        }\n                                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tx-section-title", children: "Raw Metadata" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { id: "raw-metadata-icon", className: "contract-section-toggle", children: "\\u25B6" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: "raw-metadata-content", className: "tx-input-data hidden", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { children: JSON.stringify(metadata, null, 2) }) })] }))] })] }) }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ERC721TokenDisplay);\n\n\n//# sourceURL=webpack://openscan/./src/components/pages/tokenDetails/ERC721TokenDisplay.tsx?')},62306:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ 74848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ 96540);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ 34794);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../context */ 75528);\n/* harmony import */ var _common_Loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/Loader */ 3440);\n/* harmony import */ var _ERC721TokenDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ERC721TokenDisplay */ 58623);\n/* harmony import */ var _ERC1155TokenDisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ERC1155TokenDisplay */ 39321);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);\n    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n/**\n * Check if contract supports ERC721 (interface ID: 0x80ac58cd)\n */\nfunction supportsERC721(contractAddress, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, response, result, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 3, , 4]);\n                    data = "0x01ffc9a780ac58cd00000000000000000000000000000000000000000000000000000000";\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _b.sent();\n                    if (result.error || !result.result)\n                        return [2 /*return*/, false];\n                    // Check if result is true (non-zero)\n                    return [2 /*return*/, result.result !== "0x" && BigInt(result.result) === BigInt(1)];\n                case 3:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Check if contract supports ERC1155 (interface ID: 0xd9b67a26)\n */\nfunction supportsERC1155(contractAddress, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, response, result, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 3, , 4]);\n                    data = "0x01ffc9a7d9b67a2600000000000000000000000000000000000000000000000000000000";\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _b.sent();\n                    if (result.error || !result.result)\n                        return [2 /*return*/, false];\n                    // Check if result is true (non-zero)\n                    return [2 /*return*/, result.result !== "0x" && BigInt(result.result) === BigInt(1)];\n                case 3:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar NFTTokenDetails = function () {\n    var _a = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useParams)(), networkId = _a.networkId, contractAddress = _a.address;\n    var rpcUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_2__.AppContext).rpcUrls;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), nftType = _b[0], setNftType = _b[1];\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true), loading = _c[0], setLoading = _c[1];\n    var numericNetworkId = Number(networkId) || 1;\n    // Get RPC URL\n    var rpcUrlsForChain = rpcUrls[numericNetworkId];\n    var rpcUrl = Array.isArray(rpcUrlsForChain) ? rpcUrlsForChain[0] : rpcUrlsForChain;\n    // Detect NFT type\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (!contractAddress || !rpcUrl) {\n            setNftType("unknown");\n            setLoading(false);\n            return;\n        }\n        setLoading(true);\n        Promise.all([supportsERC721(contractAddress, rpcUrl), supportsERC1155(contractAddress, rpcUrl)])\n            .then(function (_a) {\n            var isERC721 = _a[0], isERC1155 = _a[1];\n            if (isERC721) {\n                setNftType("erc721");\n            }\n            else if (isERC1155) {\n                setNftType("erc1155");\n            }\n            else {\n                // Fallback: try ERC721 first (more common for individual token pages)\n                setNftType("erc721");\n            }\n        })\n            .catch(function () {\n            // Default to ERC721 on error\n            setNftType("erc721");\n        })\n            .finally(function () { return setLoading(false); });\n    }, [contractAddress, rpcUrl]);\n    if (loading) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "container-wide", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "block-display-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "block-display-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "block-label", children: "NFT Token" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content-loading", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common_Loader__WEBPACK_IMPORTED_MODULE_3__["default"], { text: "Detecting token type..." }) })] }) }));\n    }\n    // Render appropriate component based on detected type\n    if (nftType === "erc1155") {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ERC1155TokenDisplay__WEBPACK_IMPORTED_MODULE_5__["default"], {});\n    }\n    // Default to ERC721\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ERC721TokenDisplay__WEBPACK_IMPORTED_MODULE_4__["default"], {});\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NFTTokenDetails);\n\n\n//# sourceURL=webpack://openscan/./src/components/pages/tokenDetails/index.tsx?')},65593:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchCollectionInfo: () => (/* binding */ fetchCollectionInfo),\n/* harmony export */   fetchERC721Metadata: () => (/* binding */ fetchERC721Metadata),\n/* harmony export */   fetchERC721MetadataWithUri: () => (/* binding */ fetchERC721MetadataWithUri),\n/* harmony export */   fetchTokenApproval: () => (/* binding */ fetchTokenApproval),\n/* harmony export */   fetchTokenOwner: () => (/* binding */ fetchTokenOwner),\n/* harmony export */   fetchTokenUri: () => (/* binding */ fetchTokenUri),\n/* harmony export */   getImageUrl: () => (/* binding */ getImageUrl),\n/* harmony export */   ipfsToHttp: () => (/* binding */ ipfsToHttp)\n/* harmony export */ });\n/* harmony import */ var _hexUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hexUtils */ 21742);\n/**\n * ERC721 Token Metadata Utilities\n * Handles fetching and parsing ERC721 NFT token metadata from various URI formats\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);\n    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n/**\n * Convert IPFS URI to HTTP gateway URL\n */\nfunction ipfsToHttp(uri) {\n    if (uri.startsWith("ipfs://")) {\n        return uri.replace("ipfs://", "https://ipfs.io/ipfs/");\n    }\n    if (uri.startsWith("ipfs/")) {\n        return "https://ipfs.io/".concat(uri);\n    }\n    return uri;\n}\n/**\n * Parse data URI (base64 encoded JSON)\n */\nfunction parseDataUri(uri) {\n    try {\n        // Handle data:application/json;base64,...\n        if (uri.startsWith("data:application/json;base64,")) {\n            var base64Data = uri.slice("data:application/json;base64,".length);\n            var jsonString = atob(base64Data);\n            return JSON.parse(jsonString);\n        }\n        // Handle data:application/json,...\n        if (uri.startsWith("data:application/json,")) {\n            var jsonString = decodeURIComponent(uri.slice("data:application/json,".length));\n            return JSON.parse(jsonString);\n        }\n        return null;\n    }\n    catch (error) {\n        console.error("Failed to parse data URI:", error);\n        return null;\n    }\n}\n/**\n * Fetch ERC721 tokenURI from contract\n */\nfunction fetchTokenUri(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var tokenIdBigInt, tokenIdHex, data, response, result, hex, lengthHex, length_1, strHex, uri, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 3, , 4]);\n                    tokenIdBigInt = BigInt(tokenId);\n                    tokenIdHex = tokenIdBigInt.toString(16).padStart(64, "0");\n                    data = "0xc87b56dd".concat(tokenIdHex);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (result.error || !result.result || result.result === "0x") {\n                        return [2 /*return*/, null];\n                    }\n                    hex = result.result.slice(2);\n                    if (hex.length < 128)\n                        return [2 /*return*/, null];\n                    lengthHex = hex.slice(64, 128);\n                    length_1 = parseInt(lengthHex, 16);\n                    strHex = hex.slice(128, 128 + length_1 * 2);\n                    uri = (0,_hexUtils__WEBPACK_IMPORTED_MODULE_0__.hexToString)(strHex);\n                    return [2 /*return*/, uri];\n                case 3:\n                    error_1 = _a.sent();\n                    console.error("Failed to fetch token URI:", error_1);\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Fetch owner of a specific token ID\n */\nfunction fetchTokenOwner(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var tokenIdBigInt, tokenIdHex, data, response, result, hex, address, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 3, , 4]);\n                    tokenIdBigInt = BigInt(tokenId);\n                    tokenIdHex = tokenIdBigInt.toString(16).padStart(64, "0");\n                    data = "0x6352211e".concat(tokenIdHex);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (result.error || !result.result || result.result === "0x") {\n                        return [2 /*return*/, null];\n                    }\n                    hex = result.result.slice(2);\n                    if (hex.length < 40)\n                        return [2 /*return*/, null];\n                    address = "0x".concat(hex.slice(-40));\n                    return [2 /*return*/, address];\n                case 3:\n                    error_2 = _a.sent();\n                    console.error("Failed to fetch token owner:", error_2);\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Fetch approved address for a specific token ID\n */\nfunction fetchTokenApproval(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var tokenIdBigInt, tokenIdHex, data, response, result, hex, address, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 3, , 4]);\n                    tokenIdBigInt = BigInt(tokenId);\n                    tokenIdHex = tokenIdBigInt.toString(16).padStart(64, "0");\n                    data = "0x081812fc".concat(tokenIdHex);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: data }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [4 /*yield*/, response.json()];\n                case 2:\n                    result = _a.sent();\n                    if (result.error || !result.result || result.result === "0x") {\n                        return [2 /*return*/, null];\n                    }\n                    hex = result.result.slice(2);\n                    if (hex.length < 40)\n                        return [2 /*return*/, null];\n                    address = "0x".concat(hex.slice(-40));\n                    // Return null for zero address (no approval)\n                    if (address === "0x0000000000000000000000000000000000000000") {\n                        return [2 /*return*/, null];\n                    }\n                    return [2 /*return*/, address];\n                case 3:\n                    error_3 = _a.sent();\n                    console.error("Failed to fetch token approval:", error_3);\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Fetch and parse ERC721 token metadata\n */\nfunction fetchERC721Metadata(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetchERC721MetadataWithUri(contractAddress, tokenId, rpcUrl)];\n                case 1:\n                    result = _a.sent();\n                    return [2 /*return*/, result.metadata];\n            }\n        });\n    });\n}\n/**\n * Fetch and parse ERC721 token metadata along with the raw tokenURI\n */\nfunction fetchERC721MetadataWithUri(contractAddress, tokenId, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var uri, httpUri, response, metadata, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetchTokenUri(contractAddress, tokenId, rpcUrl)];\n                case 1:\n                    uri = _a.sent();\n                    if (!uri) {\n                        return [2 /*return*/, { metadata: null, tokenUri: null }];\n                    }\n                    // Step 2: Handle different URI schemes\n                    // Data URI - parse directly\n                    if (uri.startsWith("data:")) {\n                        return [2 /*return*/, { metadata: parseDataUri(uri), tokenUri: uri }];\n                    }\n                    httpUri = ipfsToHttp(uri);\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 5, , 6]);\n                    return [4 /*yield*/, fetch(httpUri)];\n                case 3:\n                    response = _a.sent();\n                    if (!response.ok) {\n                        console.error("Failed to fetch metadata:", response.status);\n                        return [2 /*return*/, { metadata: null, tokenUri: uri }];\n                    }\n                    return [4 /*yield*/, response.json()];\n                case 4:\n                    metadata = _a.sent();\n                    return [2 /*return*/, { metadata: metadata, tokenUri: uri }];\n                case 5:\n                    error_4 = _a.sent();\n                    console.error("Failed to fetch/parse metadata:", error_4);\n                    return [2 /*return*/, { metadata: null, tokenUri: uri }];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Get display-ready image URL from metadata\n */\nfunction getImageUrl(metadata) {\n    var image = metadata.image || metadata.animation_url;\n    if (!image)\n        return null;\n    return ipfsToHttp(image);\n}\n/**\n * Fetch collection info (name, symbol, totalSupply) from ERC721 contract\n */\nfunction fetchCollectionInfo(contractAddress, rpcUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n        var info, calls, _i, calls_1, call, response, data, decoded, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    info = {};\n                    calls = [\n                        { selector: "0x06fdde03", key: "name" }, // name()\n                        { selector: "0x95d89b41", key: "symbol" }, // symbol()\n                        { selector: "0x18160ddd", key: "totalSupply" }, // totalSupply()\n                    ];\n                    _i = 0, calls_1 = calls;\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < calls_1.length)) return [3 /*break*/, 7];\n                    call = calls_1[_i];\n                    _b.label = 2;\n                case 2:\n                    _b.trys.push([2, 5, , 6]);\n                    return [4 /*yield*/, fetch(rpcUrl, {\n                            method: "POST",\n                            headers: { "Content-Type": "application/json" },\n                            body: JSON.stringify({\n                                jsonrpc: "2.0",\n                                method: "eth_call",\n                                params: [{ to: contractAddress, data: call.selector }, "latest"],\n                                id: 1,\n                            }),\n                        })];\n                case 3:\n                    response = _b.sent();\n                    return [4 /*yield*/, response.json()];\n                case 4:\n                    data = _b.sent();\n                    if (!data.error && data.result && data.result !== "0x") {\n                        if (call.key === "totalSupply") {\n                            info.totalSupply = BigInt(data.result).toString();\n                        }\n                        else {\n                            decoded = (0,_hexUtils__WEBPACK_IMPORTED_MODULE_0__.decodeAbiString)(data.result);\n                            if (decoded) {\n                                if (call.key === "name")\n                                    info.name = decoded;\n                                if (call.key === "symbol")\n                                    info.symbol = decoded;\n                            }\n                        }\n                    }\n                    return [3 /*break*/, 6];\n                case 5:\n                    _a = _b.sent();\n                    return [3 /*break*/, 6];\n                case 6:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 7: return [2 /*return*/, info];\n            }\n        });\n    });\n}\n\n\n//# sourceURL=webpack://openscan/./src/utils/erc721Metadata.ts?')}}]);