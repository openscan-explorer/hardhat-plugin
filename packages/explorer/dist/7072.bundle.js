"use strict";(self.webpackChunkopenscan=self.webpackChunkopenscan||[]).push([[7072],{3440:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(74848),s=n(96540).memo(function(e){var t=e.size,n=void 0===t?40:t,s=e.color,r=void 0===s?"#10b981":s,l=e.text;return(0,a.jsxs)("div",{className:"loader-container",children:[(0,a.jsx)("div",{className:"loader-spinner",style:{width:"".concat(n,"px"),height:"".concat(n,"px"),border:"3px solid rgba(16, 185, 129, 0.2)",borderTop:"3px solid ".concat(r)}}),l&&(0,a.jsx)("p",{className:"loader-text",children:l})]})});s.displayName="Loader";const r=s},21742:(e,t,n)=>{function a(e){for(var t="",n=0;n<e.length;n+=2){var a=parseInt(e.slice(n,n+2),16);if(0===a)break;t+=String.fromCharCode(a)}return t}function s(e){try{var t=e.slice(2);if(t.length>=128){var n=t.slice(64,128),s=parseInt(n,16);return a(t.slice(128,128+2*s))}return""}catch(r){return""}}n.d(t,{I:()=>a,K:()=>s})},47072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(74848),s=n(96540),r=n(34794),l=n(75528),c=n(3440),i=n(21742),o=function(e,t,n,a){return new(n||(n=Promise))(function(s,r){function l(e){try{i(a.next(e))}catch(t){r(t)}}function c(e){try{i(a.throw(e))}catch(t){r(t)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,c)}i((a=a.apply(e,t||[])).next())})},d=function(e,t){var n,a,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(6===c[0]&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(i){c=[6,i],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};function u(e){return e.startsWith("ipfs://")?e.replace("ipfs://","https://ipfs.io/ipfs/"):e.startsWith("ipfs/")?"https://ipfs.io/".concat(e):e}function h(e){try{if(e.startsWith("data:application/json;base64,")){var t=e.slice(29),n=atob(t);return JSON.parse(n)}if(e.startsWith("data:application/json,")){n=decodeURIComponent(e.slice(22));return JSON.parse(n)}return null}catch(a){return console.error("Failed to parse data URI:",a),null}}function p(e,t,n){return o(this,void 0,void 0,function(){var a,s,r,l,c,o,u,h,p;return d(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),a=BigInt(t),s=a.toString(16).padStart(64,"0"),r="0xc87b56dd".concat(s),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r},"latest"],id:1})})];case 1:return[4,d.sent().json()];case 2:return(l=d.sent()).error||!l.result||"0x"===l.result||(c=l.result.slice(2)).length<128?[2,null]:(o=c.slice(64,128),u=parseInt(o,16),h=c.slice(128,128+2*u),[2,(0,i.I)(h)]);case 3:return p=d.sent(),console.error("Failed to fetch token URI:",p),[2,null];case 4:return[2]}})})}function x(e,t,n){return o(this,void 0,void 0,function(){var a,s,r,l,c,i;return d(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),a=BigInt(t),s=a.toString(16).padStart(64,"0"),r="0x6352211e".concat(s),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r},"latest"],id:1})})];case 1:return[4,o.sent().json()];case 2:return(l=o.sent()).error||!l.result||"0x"===l.result||(c=l.result.slice(2)).length<40?[2,null]:[2,"0x".concat(c.slice(-40))];case 3:return i=o.sent(),console.error("Failed to fetch token owner:",i),[2,null];case 4:return[2]}})})}function m(e,t,n){return o(this,void 0,void 0,function(){var a,s,r,l,c,i,o;return d(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),a=BigInt(t),s=a.toString(16).padStart(64,"0"),r="0x081812fc".concat(s),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r},"latest"],id:1})})];case 1:return[4,d.sent().json()];case 2:return(l=d.sent()).error||!l.result||"0x"===l.result||((c=l.result.slice(2)).length<40||"0x0000000000000000000000000000000000000000"===(i="0x".concat(c.slice(-40))))?[2,null]:[2,i];case 3:return o=d.sent(),console.error("Failed to fetch token approval:",o),[2,null];case 4:return[2]}})})}function f(e,t,n){return o(this,void 0,void 0,function(){var a,s,r,l;return d(this,function(c){switch(c.label){case 0:return[4,p(e,t,n)];case 1:if(!(a=c.sent()))return[2,{metadata:null,tokenUri:null}];if(a.startsWith("data:"))return[2,{metadata:h(a),tokenUri:a}];s=u(a),c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(s)];case 3:return(r=c.sent()).ok?[4,r.json()]:(console.error("Failed to fetch metadata:",r.status),[2,{metadata:null,tokenUri:a}]);case 4:return[2,{metadata:c.sent(),tokenUri:a}];case 5:return l=c.sent(),console.error("Failed to fetch/parse metadata:",l),[2,{metadata:null,tokenUri:a}];case 6:return[2]}})})}function v(e,t){return o(this,void 0,void 0,function(){var n,a,s,r,l,c;return d(this,function(o){switch(o.label){case 0:n={},a=0,s=[{selector:"0x06fdde03",key:"name"},{selector:"0x95d89b41",key:"symbol"},{selector:"0x18160ddd",key:"totalSupply"}],o.label=1;case 1:if(!(a<s.length))return[3,7];r=s[a],o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r.selector},"latest"],id:1})})];case 3:return[4,o.sent().json()];case 4:return!(l=o.sent()).error&&l.result&&"0x"!==l.result&&("totalSupply"===r.key?n.totalSupply=BigInt(l.result).toString():(c=(0,i.K)(l.result))&&("name"===r.key&&(n.name=c),"symbol"===r.key&&(n.symbol=c))),[3,6];case 5:return o.sent(),[3,6];case 6:return a++,[3,1];case 7:return[2,n]}})})}const j=function(){var e=(0,r.g)(),t=e.networkId,n=e.address,i=e.tokenId,o=(0,s.useContext)(l.BR).rpcUrls,d=(0,s.useState)(null),h=d[0],p=d[1],j=(0,s.useState)(null),b=j[0],N=j[1],y=(0,s.useState)(null),k=y[0],g=y[1],w=(0,s.useState)(null),S=w[0],I=w[1],T=(0,s.useState)(!0),_=T[0],C=T[1],O=(0,s.useState)(null),U=O[0],E=O[1],R=(0,s.useState)(null),F=R[0],B=R[1],P=o[Number(t)||1],W=Array.isArray(P)?P[0]:P;if((0,s.useEffect)(function(){if(!n||!i||!W)return C(!1),void E("Missing contract address, token ID, or RPC URL");C(!0),E(null),Promise.all([f(n,i,W),x(n,i,W),m(n,i,W),v(n,W)]).then(function(e){var t=e[0],n=e[1],a=e[2],s=e[3];t.metadata&&p(t.metadata),B(t.tokenUri),g(n),I(a),N(s),t.metadata||n||E("Token may not exist or failed to fetch data")}).catch(function(e){console.error("Error fetching token data:",e),E(e.message||"Failed to fetch token data")}).finally(function(){return C(!1)})},[n,i,W]),_)return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsxs)("div",{className:"block-display-header",children:[(0,a.jsx)("span",{className:"block-label",children:"ERC-721 NFT"}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]}),(0,a.jsx)("div",{className:"card-content-loading",children:(0,a.jsx)(c.A,{text:"Loading NFT metadata..."})})]})});if(U&&!k)return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsxs)("div",{className:"block-display-header",children:[(0,a.jsx)("span",{className:"block-label",children:"ERC-721 NFT"}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("p",{className:"text-error margin-0",children:["Error: ",U]})})]})});var D=h?function(e){var t=e.image||e.animation_url;return t?u(t):null}(h):null,J=null==h?void 0:h.name,A=null==b?void 0:b.name,L=null==b?void 0:b.symbol;return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsx)("div",{className:"block-display-header",children:(0,a.jsxs)("div",{className:"erc721-header",children:[J&&(0,a.jsx)("span",{className:"erc721-token-name",children:J}),(0,a.jsxs)("div",{className:"erc721-header-title",children:[A&&(0,a.jsxs)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"nft-collection-link",children:[A,L&&(0,a.jsxs)("span",{className:"nft-collection-symbol",children:["(",L,")"]})]}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]})]})}),(0,a.jsxs)("div",{className:"erc721-detail-content",children:[(0,a.jsxs)("div",{className:"erc721-main-section",children:[D&&(0,a.jsx)("div",{className:"erc721-image-container",children:(0,a.jsx)("img",{src:D,alt:J||"NFT #".concat(i),className:"erc721-token-image",onError:function(e){e.target.style.display="none"}})}),(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"NFT Details"})}),A&&(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Collection:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsxs)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"address-link",children:[A,L&&" (".concat(L,")")]})})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Contract:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"address-link",children:n})})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Token ID:"}),(0,a.jsx)("span",{className:"tx-value tx-mono",children:i})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Token Standard:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)("span",{className:"token-standard-badge token-standard-erc721",children:"ERC-721"})})]}),(null==b?void 0:b.totalSupply)&&(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Collection Size:"}),(0,a.jsxs)("span",{className:"tx-value",children:[Number(b.totalSupply).toLocaleString()," NFTs"]})]}),k&&(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Owner:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(k),className:"address-link",children:k})})]}),S&&(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Approved:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(S),className:"address-link",children:S})})]})]})]}),(null==h?void 0:h.description)&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Description"})}),(0,a.jsx)("div",{className:"nft-description",children:h.description})]}),(null==h?void 0:h.attributes)&&h.attributes.length>0&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsxs)("div",{className:"tx-section",children:[(0,a.jsx)("span",{className:"tx-section-title",children:"Properties"}),(0,a.jsx)("span",{className:"tx-section-count",children:h.attributes.length})]}),(0,a.jsx)("div",{className:"erc721-attributes-grid",children:h.attributes.map(function(e,t){return(0,a.jsxs)("div",{className:"erc721-attribute-card",children:[(0,a.jsx)("span",{className:"erc721-attribute-type",children:e.trait_type}),(0,a.jsx)("span",{className:"erc721-attribute-value",children:String(e.value)})]},"".concat(e.trait_type,"-").concat(t))})})]}),((null==h?void 0:h.external_url)||(null==h?void 0:h.animation_url))&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Links"})}),(0,a.jsxs)("div",{className:"nft-links",children:[(null==h?void 0:h.external_url)&&(0,a.jsx)("a",{href:h.external_url,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button",children:"External URL ↗"}),(null==h?void 0:h.animation_url)&&(0,a.jsx)("a",{href:h.animation_url.startsWith("ipfs://")?h.animation_url.replace("ipfs://","https://ipfs.io/ipfs/"):h.animation_url,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button",children:"View Animation ↗"})]})]}),F&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Token URI"})}),(0,a.jsxs)("div",{className:"nft-token-uri",children:[(0,a.jsx)("code",{className:"nft-token-uri-code",children:F}),!F.startsWith("data:")&&(0,a.jsx)("a",{href:F.startsWith("ipfs://")?F.replace("ipfs://","https://ipfs.io/ipfs/"):F,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button nft-token-uri-link",children:"Open URI ↗"})]})]}),h&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsxs)("button",{type:"button",className:"tx-section btn-toggle-section",onClick:function(){var e=document.getElementById("raw-metadata-content"),t=document.getElementById("raw-metadata-icon");if(e&&t){var n="none"===e.style.display;e.style.display=n?"block":"none",t.textContent=n?"▼":"▶"}},children:[(0,a.jsx)("span",{className:"tx-section-title",children:"Raw Metadata"}),(0,a.jsx)("span",{id:"raw-metadata-icon",className:"contract-section-toggle",children:"▶"})]}),(0,a.jsx)("div",{id:"raw-metadata-content",className:"tx-input-data hidden",children:(0,a.jsx)("code",{children:JSON.stringify(h,null,2)})})]})]})]})})};var b=function(e,t,n,a){return new(n||(n=Promise))(function(s,r){function l(e){try{i(a.next(e))}catch(t){r(t)}}function c(e){try{i(a.throw(e))}catch(t){r(t)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,c)}i((a=a.apply(e,t||[])).next())})},N=function(e,t){var n,a,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(6===c[0]&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(i){c=[6,i],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};function y(e){return e.startsWith("ipfs://")?e.replace("ipfs://","https://ipfs.io/ipfs/"):e.startsWith("ipfs/")?"https://ipfs.io/".concat(e):e}function k(e){try{if(e.startsWith("data:application/json;base64,")){var t=e.slice(29),n=atob(t);return JSON.parse(n)}if(e.startsWith("data:application/json,")){n=decodeURIComponent(e.slice(22));return JSON.parse(n)}return null}catch(a){return console.error("Failed to parse data URI:",a),null}}function g(e,t,n){return b(this,void 0,void 0,function(){var a,s,r,l,c,o,d,u,h;return N(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),a=BigInt(t),s=a.toString(16).padStart(64,"0"),r="0x0e89341c".concat(s),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r},"latest"],id:1})})];case 1:return[4,p.sent().json()];case 2:return(l=p.sent()).error||!l.result||"0x"===l.result||(c=l.result.slice(2)).length<128?[2,null]:(o=c.slice(64,128),d=parseInt(o,16),u=c.slice(128,128+2*d),[2,(0,i.I)(u)]);case 3:return h=p.sent(),console.error("Failed to fetch token URI:",h),[2,null];case 4:return[2]}})})}function w(e,t,n,a){return b(this,void 0,void 0,function(){var s,r,l,c,i,o;return N(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),s=t.toLowerCase().slice(2).padStart(64,"0"),r=BigInt(n),l=r.toString(16).padStart(64,"0"),c="0x00fdd58e".concat(s).concat(l),[4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:c},"latest"],id:1})})];case 1:return[4,d.sent().json()];case 2:return(i=d.sent()).error||!i.result||"0x"===i.result?[2,"0"]:[2,BigInt(i.result).toString()];case 3:return o=d.sent(),console.error("Failed to fetch token balance:",o),[2,null];case 4:return[2]}})})}function S(e,t,n){return b(this,void 0,void 0,function(){var a,s,r,l;return N(this,function(c){switch(c.label){case 0:return[4,g(e,t,n)];case 1:if(!(a=c.sent()))return[2,{metadata:null,tokenUri:null}];if(a=function(e,t){var n=BigInt(t).toString(16).toLowerCase().padStart(64,"0");return e.replace("{id}",n)}(a,t),a.startsWith("data:"))return[2,{metadata:k(a),tokenUri:a}];s=y(a),c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(s)];case 3:return(r=c.sent()).ok?[4,r.json()]:(console.error("Failed to fetch metadata:",r.status),[2,{metadata:null,tokenUri:a}]);case 4:return[2,{metadata:c.sent(),tokenUri:a}];case 5:return l=c.sent(),console.error("Failed to fetch/parse metadata:",l),[2,{metadata:null,tokenUri:a}];case 6:return[2]}})})}function I(e,t){return b(this,void 0,void 0,function(){var n,a,s,r,l,c;return N(this,function(o){switch(o.label){case 0:n={},a=0,s=[{selector:"0x06fdde03",key:"name"},{selector:"0x95d89b41",key:"symbol"}],o.label=1;case 1:if(!(a<s.length))return[3,7];r=s[a],o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:r.selector},"latest"],id:1})})];case 3:return[4,o.sent().json()];case 4:return!(l=o.sent()).error&&l.result&&"0x"!==l.result&&(c=(0,i.K)(l.result))&&("name"===r.key&&(n.name=c),"symbol"===r.key&&(n.symbol=c)),[3,6];case 5:return o.sent(),[3,6];case 6:return a++,[3,1];case 7:return[2,n]}})})}var T=function(e,t,n,a){return new(n||(n=Promise))(function(s,r){function l(e){try{i(a.next(e))}catch(t){r(t)}}function c(e){try{i(a.throw(e))}catch(t){r(t)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,c)}i((a=a.apply(e,t||[])).next())})},_=function(e,t){var n,a,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(6===c[0]&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(i){c=[6,i],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};const C=function(){var e=(0,r.g)(),t=e.networkId,n=e.address,i=e.tokenId,o=(0,s.useContext)(l.BR).rpcUrls,d=(0,s.useState)(null),u=d[0],h=d[1],p=(0,s.useState)(null),x=p[0],m=p[1],f=(0,s.useState)(!0),v=f[0],j=f[1],b=(0,s.useState)(null),N=b[0],k=b[1],g=(0,s.useState)(null),C=g[0],O=g[1],U=(0,s.useState)(""),E=U[0],R=U[1],F=(0,s.useState)(null),B=F[0],P=F[1],W=(0,s.useState)(!1),D=W[0],J=W[1],A=(0,s.useState)(null),L=A[0],G=A[1],M=o[Number(t)||1],K=Array.isArray(M)?M[0]:M;(0,s.useEffect)(function(){if(!n||!i||!K)return j(!1),void k("Missing contract address, token ID, or RPC URL");j(!0),k(null),Promise.all([S(n,i,K),I(n,K)]).then(function(e){var t=e[0],n=e[1];t.metadata?h(t.metadata):k("Failed to fetch token metadata"),O(t.tokenUri),m(n)}).catch(function(e){console.error("Error fetching metadata:",e),k(e.message||"Failed to fetch token metadata")}).finally(function(){return j(!1)})},[n,i,K]);var z=(0,s.useCallback)(function(){return T(void 0,void 0,void 0,function(){var e,t;return _(this,function(a){switch(a.label){case 0:if(!(E&&n&&i&&K))return G("Please enter a valid address"),[2];if(!/^0x[a-fA-F0-9]{40}$/.test(E))return G("Invalid address format"),[2];J(!0),G(null),P(null),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,w(n,E,i,K)];case 2:return null!==(e=a.sent())?P(e):G("Failed to fetch balance"),[3,5];case 3:return t=a.sent(),G(t instanceof Error?t.message:"Failed to fetch balance"),[3,5];case 4:return J(!1),[7];case 5:return[2]}})})},[E,n,i,K]);if(v)return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsxs)("div",{className:"block-display-header",children:[(0,a.jsx)("span",{className:"block-label",children:"ERC-1155 Token"}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]}),(0,a.jsx)("div",{className:"card-content-loading",children:(0,a.jsx)(c.A,{text:"Loading token metadata..."})})]})});if(N)return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsxs)("div",{className:"block-display-header",children:[(0,a.jsx)("span",{className:"block-label",children:"ERC-1155 Token"}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsxs)("p",{className:"text-error margin-0",children:["Error: ",N]})})]})});var V=u?function(e){var t=e.image||e.animation_url;return t?y(t):null}(u):null,$=null==u?void 0:u.name,q=null==x?void 0:x.name,H=null==x?void 0:x.symbol;return(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsx)("div",{className:"block-display-header",children:(0,a.jsxs)("div",{className:"erc1155-header",children:[$&&(0,a.jsx)("span",{className:"erc1155-token-name",children:$}),(0,a.jsxs)("div",{className:"erc1155-header-title",children:[q&&(0,a.jsxs)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"nft-collection-link",children:[q,H&&(0,a.jsxs)("span",{className:"nft-collection-symbol",children:["(",H,")"]})]}),(0,a.jsxs)("span",{className:"tx-mono header-subtitle",children:["Token ID: ",i]})]})]})}),(0,a.jsxs)("div",{className:"erc1155-detail-content",children:[(0,a.jsxs)("div",{className:"erc1155-main-section",children:[V&&(0,a.jsx)("div",{className:"erc1155-image-container",children:(0,a.jsx)("img",{src:V,alt:$||"Token #".concat(i),className:"erc1155-token-image",onError:function(e){e.target.style.display="none"}})}),(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Token Details"})}),q&&(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Collection:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsxs)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"address-link",children:[q,H&&" (".concat(H,")")]})})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Contract:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(n),className:"address-link",children:n})})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Token ID:"}),(0,a.jsx)("span",{className:"tx-value tx-mono",children:i})]}),(0,a.jsxs)("div",{className:"tx-row",children:[(0,a.jsx)("span",{className:"tx-label",children:"Token Standard:"}),(0,a.jsx)("span",{className:"tx-value",children:(0,a.jsx)("span",{className:"token-standard-badge token-standard-erc1155",children:"ERC-1155"})})]})]})]}),(null==u?void 0:u.description)&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Description"})}),(0,a.jsx)("div",{className:"nft-description",children:u.description})]}),(null==u?void 0:u.attributes)&&u.attributes.length>0&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsxs)("div",{className:"tx-section",children:[(0,a.jsx)("span",{className:"tx-section-title",children:"Properties"}),(0,a.jsx)("span",{className:"tx-section-count",children:u.attributes.length})]}),(0,a.jsx)("div",{className:"erc1155-attributes-grid",children:u.attributes.map(function(e,t){return(0,a.jsxs)("div",{className:"erc1155-attribute-card",children:[(0,a.jsx)("span",{className:"erc1155-attribute-type",children:e.trait_type}),(0,a.jsx)("span",{className:"erc1155-attribute-value",children:String(e.value)})]},"".concat(e.trait_type,"-").concat(t))})})]}),(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Balance Lookup"})}),(0,a.jsxs)("div",{className:"erc1155-balance-lookup",children:[(0,a.jsxs)("div",{className:"erc1155-balance-input-row",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter address (0x...)",value:E,onChange:function(e){return R(e.target.value)},className:"erc1155-balance-input"}),(0,a.jsx)("button",{type:"button",onClick:z,disabled:D,className:"erc1155-balance-button",children:D?"Checking...":"Check Balance"})]}),L&&(0,a.jsx)("div",{className:"erc1155-balance-error",children:L}),null!==B&&(0,a.jsxs)("div",{className:"erc1155-balance-result",children:[(0,a.jsx)("span",{className:"erc1155-balance-label",children:"Balance:"}),(0,a.jsx)("span",{className:"erc1155-balance-value",children:B})]})]})]}),((null==u?void 0:u.external_url)||(null==u?void 0:u.animation_url))&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Links"})}),(0,a.jsxs)("div",{className:"nft-links",children:[(null==u?void 0:u.external_url)&&(0,a.jsx)("a",{href:u.external_url,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button",children:"External URL ↗"}),(null==u?void 0:u.animation_url)&&(0,a.jsx)("a",{href:u.animation_url.startsWith("ipfs://")?u.animation_url.replace("ipfs://","https://ipfs.io/ipfs/"):u.animation_url,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button",children:"View Animation ↗"})]})]}),C&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsx)("div",{className:"tx-section",children:(0,a.jsx)("span",{className:"tx-section-title",children:"Token URI"})}),(0,a.jsxs)("div",{className:"nft-token-uri",children:[(0,a.jsx)("code",{className:"nft-token-uri-code",children:C}),!C.startsWith("data:")&&(0,a.jsx)("a",{href:C.startsWith("ipfs://")?C.replace("ipfs://","https://ipfs.io/ipfs/"):C,target:"_blank",rel:"noopener noreferrer",className:"nft-link-button nft-token-uri-link",children:"Open URI ↗"})]})]}),u&&(0,a.jsxs)("div",{className:"tx-details",children:[(0,a.jsxs)("button",{type:"button",className:"tx-section btn-toggle-section",onClick:function(){var e=document.getElementById("raw-metadata-content"),t=document.getElementById("raw-metadata-icon");if(e&&t){var n="none"===e.style.display;e.style.display=n?"block":"none",t.textContent=n?"▼":"▶"}},children:[(0,a.jsx)("span",{className:"tx-section-title",children:"Raw Metadata"}),(0,a.jsx)("span",{id:"raw-metadata-icon",className:"contract-section-toggle",children:"▶"})]}),(0,a.jsx)("div",{id:"raw-metadata-content",className:"tx-input-data hidden",children:(0,a.jsx)("code",{children:JSON.stringify(u,null,2)})})]})]})]})})};var O=function(e,t,n,a){return new(n||(n=Promise))(function(s,r){function l(e){try{i(a.next(e))}catch(t){r(t)}}function c(e){try{i(a.throw(e))}catch(t){r(t)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,c)}i((a=a.apply(e,t||[])).next())})},U=function(e,t){var n,a,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(s=r.trys,(s=s.length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(6===c[0]&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(i){c=[6,i],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};function E(e,t){return O(this,void 0,void 0,function(){var n;return U(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:"0x01ffc9a780ac58cd00000000000000000000000000000000000000000000000000000000"},"latest"],id:1})})];case 1:return[4,a.sent().json()];case 2:return(n=a.sent()).error||!n.result?[2,!1]:[2,"0x"!==n.result&&BigInt(n.result)===BigInt(1)];case 3:return a.sent(),[2,!1];case 4:return[2]}})})}function R(e,t){return O(this,void 0,void 0,function(){var n;return U(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:"0x01ffc9a7d9b67a2600000000000000000000000000000000000000000000000000000000"},"latest"],id:1})})];case 1:return[4,a.sent().json()];case 2:return(n=a.sent()).error||!n.result?[2,!1]:[2,"0x"!==n.result&&BigInt(n.result)===BigInt(1)];case 3:return a.sent(),[2,!1];case 4:return[2]}})})}const F=function(){var e=(0,r.g)(),t=e.networkId,n=e.address,i=(0,s.useContext)(l.BR).rpcUrls,o=(0,s.useState)(null),d=o[0],u=o[1],h=(0,s.useState)(!0),p=h[0],x=h[1],m=i[Number(t)||1],f=Array.isArray(m)?m[0]:m;return(0,s.useEffect)(function(){if(!n||!f)return u("unknown"),void x(!1);x(!0),Promise.all([E(n,f),R(n,f)]).then(function(e){var t=e[0],n=e[1];u(t?"erc721":n?"erc1155":"erc721")}).catch(function(){u("erc721")}).finally(function(){return x(!1)})},[n,f]),p?(0,a.jsx)("div",{className:"container-wide",children:(0,a.jsxs)("div",{className:"block-display-card",children:[(0,a.jsx)("div",{className:"block-display-header",children:(0,a.jsx)("span",{className:"block-label",children:"NFT Token"})}),(0,a.jsx)("div",{className:"card-content-loading",children:(0,a.jsx)(c.A,{text:"Detecting token type..."})})]})}):"erc1155"===d?(0,a.jsx)(C,{}):(0,a.jsx)(j,{})}}}]);