"use strict";(self.webpackChunkopenscan=self.webpackChunkopenscan||[]).push([[2912],{2912:(e,r,n)=>{n.r(r),n.d(r,{default:()=>w});var s=n(74848),a=n(96540),t=n(34794),l=n(19320),i=n(41574),c=n(54467),o=n(70645),d=n(3440),u=n(65288);const h=function(){var e=(0,u.S)(),r=e.searchTerm,n=e.setSearchTerm,a=e.isResolving,t=e.error,l=e.clearError,i=e.handleSearch;return(0,s.jsxs)("div",{className:"search-box-container",children:[(0,s.jsxs)("form",{onSubmit:i,className:"search-form",children:[(0,s.jsx)("input",{type:"text",className:"search-input",placeholder:"Search by Address / Txn Hash / Block / ENS Name",value:r,onChange:function(e){n(e.target.value),l()},disabled:a}),(0,s.jsx)("button",{type:"submit",className:"search-button",disabled:a,children:a?"...":"Scan"})]}),t&&(0,s.jsx)("div",{style:{color:"#ef4444",fontSize:"0.85rem",marginTop:"8px",padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",borderRadius:"6px"},children:t})]})};var m=n(48334),p=n(56577),f=n(20684),v=function(e,r,n,s){return new(n||(n=Promise))(function(a,t){function l(e){try{c(s.next(e))}catch(r){t(r)}}function i(e){try{c(s.throw(e))}catch(r){t(r)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(l,i)}c((s=s.apply(e,r||[])).next())})},x=function(e,r){var n,s,a,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=i(0),l.throw=i(1),l.return=i(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,i[0]&&(t=0)),t;)try{if(n=1,s&&(a=2&i[0]?s.return:i[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,i[1])).done)return a;switch(s=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return t.label++,{value:i[1],done:!1};case 5:t.label++,s=i[1],i=[0];continue;case 7:i=t.ops.pop(),t.trys.pop();continue;default:if(!(a=t.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){t=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){t.label=i[1];break}if(6===i[0]&&t.label<a[1]){t.label=a[1],a=i;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(i);break}a[2]&&t.ops.pop(),t.trys.pop();continue}i=r.call(e,t)}catch(c){i=[6,c],s=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},N=a.memo(function(e){var r=e.network,n=(0,a.useState)("collapsed"),t=n[0],l=n[1],i=(0,a.useState)(null),c=i[0],o=i[1],d=(0,a.useState)(null),u=d[0],h=d[1],N=(null==r?void 0:r.subscription)&&(0,p.si)(r.subscription),j=!!(null==r?void 0:r.profile),b=null==r?void 0:r.networkId;(0,a.useEffect)(function(){l("collapsed"),o(null),h(null)},[b]);var k=(0,a.useCallback)(function(){return v(void 0,void 0,void 0,function(){var e,n;return x(this,function(s){switch(s.label){case 0:if(!(null==r?void 0:r.profile)||!N)return[2];if("expanded"===t)return l("collapsed"),[2];if(c)return l("expanded"),[2];l("loading"),h(null),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,p.uK)(r.profile)];case 2:return e=s.sent(),o(e),l("expanded"),[3,4];case 3:return n=s.sent(),h(n instanceof Error?n.message:"Failed to load profile"),l("error"),[3,4];case 4:return[2]}})})},[null==r?void 0:r.profile,N,t,c]);return N&&j?(0,s.jsxs)("div",{className:"container-wide profile-container",children:["collapsed"===t&&(0,s.jsxs)("button",{type:"button",className:"profile-expand-button",onClick:k,children:[(0,s.jsxs)("span",{className:"profile-expand-text",children:["More about ",null==r?void 0:r.name]}),(0,s.jsx)(f.A,{subscription:null==r?void 0:r.subscription,size:"small"}),(0,s.jsx)("span",{className:"profile-expand-icon",children:"▼"})]}),"loading"===t&&(0,s.jsx)("div",{className:"block-display-card",children:(0,s.jsx)("div",{className:"text-center profile-loading",children:"Loading network profile..."})}),"error"===t&&(0,s.jsx)("div",{className:"block-display-card",children:(0,s.jsxs)("div",{className:"text-center profile-error",children:["Failed to load profile: ",u,(0,s.jsx)("button",{type:"button",className:"profile-retry-button",onClick:k,children:"Retry"})]})}),"expanded"===t&&c&&(0,s.jsxs)("div",{className:"block-display-card",children:[(0,s.jsxs)("div",{className:"profile-header",children:[(0,s.jsxs)("h2",{className:"profile-title",children:["About ",null==r?void 0:r.name]}),(0,s.jsxs)("div",{className:"profile-header-actions",children:[(0,s.jsx)(f.A,{subscription:null==r?void 0:r.subscription,size:"medium",showSuffix:!0}),(0,s.jsx)("button",{type:"button",className:"profile-collapse-button",onClick:k,"aria-label":"Collapse profile",children:"▲"})]})]}),(0,s.jsx)("div",{className:"profile-content",children:(0,s.jsx)(m.oz,{components:{h1:function(e){var r=e.children;return(0,s.jsx)("h1",{className:"profile-h1",children:r})},h2:function(e){var r=e.children;return(0,s.jsx)("h2",{className:"profile-h2",children:r})},h3:function(e){var r=e.children;return(0,s.jsx)("h3",{className:"profile-h3",children:r})},h4:function(e){var r=e.children;return(0,s.jsx)("h4",{className:"profile-h4",children:r})},h5:function(e){var r=e.children;return(0,s.jsx)("h5",{className:"profile-h5",children:r})},h6:function(e){var r=e.children;return(0,s.jsx)("h6",{className:"profile-h6",children:r})},p:function(e){var r=e.children;return(0,s.jsx)("p",{className:"profile-p",children:r})},a:function(e){var r=e.href,n=e.children;return(0,s.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"profile-link",children:n})},ul:function(e){var r=e.children;return(0,s.jsx)("ul",{className:"profile-ul",children:r})},ol:function(e){var r=e.children;return(0,s.jsx)("ol",{className:"profile-ol",children:r})},li:function(e){var r=e.children;return(0,s.jsx)("li",{className:"profile-li",children:r})},blockquote:function(e){var r=e.children;return(0,s.jsx)("blockquote",{className:"profile-blockquote",children:r})},code:function(e){var r=e.className,n=e.children;return(null==r?void 0:r.startsWith("language-"))?(0,s.jsx)("pre",{className:"profile-code-block",children:(0,s.jsx)("code",{children:n})}):(0,s.jsx)("code",{className:"profile-inline-code",children:n})},pre:function(e){var r=e.children;return(0,s.jsx)(s.Fragment,{children:r})},hr:function(){return(0,s.jsx)("hr",{className:"profile-hr"})},img:function(e){var r=e.src,n=e.alt;return(0,s.jsx)("img",{src:r,alt:n,className:"profile-image"})}},children:c})}),(null==r?void 0:r.links)&&r.links.length>0&&(0,s.jsxs)("div",{className:"profile-links",children:[(0,s.jsx)("h3",{className:"profile-links-title",children:"Official Links"}),(0,s.jsx)("div",{className:"profile-links-list",children:r.links.map(function(e,r){return(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"profile-link-item",children:e.name},"".concat(e.name,"-").concat(r))})})]})]})]}):null});N.displayName="ProfileDisplay";const j=N;var b=n(49018),k=a.memo(function(e){var r=e.networkStats,n=e.loading,a=void 0!==n&&n,t=e.error,l=void 0===t?null:t,i=e.networkId,c=e.metadata,o=e.selectedProvider,d=e.onProviderSelect;if(a)return(0,s.jsx)("div",{className:"container-wide network-stats-container",children:(0,s.jsx)("div",{className:"block-display-card",children:(0,s.jsx)("div",{className:"text-center network-stats-loading",children:"Loading network statistics..."})})});if(l)return(0,s.jsx)("div",{className:"container-wide network-stats-container",children:(0,s.jsx)("div",{className:"block-display-card",children:(0,s.jsxs)("div",{className:"text-center network-stats-error",children:["Error loading network stats: ",l]})})});if(!r)return null;var u=function(r){try{return Number(r).toLocaleString()}catch(e){return r}},h=function(){if(31337!==i||!r.metadata)return null;try{return r.metadata.clientVersion||null}catch(e){return console.error("Failed to parse metadata:",e),null}}(),m=function(){if(31337!==i||!r.metadata||!r.metadata.forkedNetwork)return null;try{var e=r.metadata.forkedNetwork;return{networkId:e.chainId,blockNumber:e.forkBlockNumber,blockHash:e.forkBlockHash}}catch(n){return console.error("Failed to parse forked network info:",n),null}}();return(0,s.jsx)("div",{className:"container-wide network-stats-container",children:(0,s.jsxs)("div",{className:"block-display-card",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,s.jsx)("h2",{className:"network-stats-title",style:{margin:0},children:"Network Statistics"}),c&&void 0!==o&&d&&(0,s.jsx)(b.N,{metadata:c,selectedProvider:o,onProviderSelect:d})]}),(0,s.jsxs)("div",{className:"data-grid-3",children:[(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Current Gas Price"}),(0,s.jsx)("span",{className:"detail-value",children:function(r){try{var n=Number(r)/1e9;return"".concat(n.toFixed(2)," Gwei")}catch(e){return r}}(r.currentGasPrice)})]}),(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Current Block Number"}),(0,s.jsx)("span",{className:"detail-value",children:u(r.currentBlockNumber)})]}),(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Sync Status"}),(0,s.jsx)("span",{className:"detail-value",children:(0,s.jsxs)("span",{className:"sync-status-indicator",children:[(0,s.jsx)("span",{className:"sync-dot ".concat(r.isSyncing?"sync-dot-warning":"sync-dot-success")}),r.isSyncing?"Syncing":"Synced"]})})]}),r.clientVersion&&(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Client Version"}),(0,s.jsx)("span",{className:"detail-value tx-mono",children:r.clientVersion})]}),h&&(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Protocol Version"}),(0,s.jsx)("span",{className:"detail-value",children:h})]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Forked Network"}),(0,s.jsxs)("span",{className:"detail-value",children:["Chain ID: ",m.networkId]})]}),(0,s.jsxs)("div",{className:"block-detail-item",children:[(0,s.jsx)("span",{className:"detail-label",children:"Fork Block Number"}),(0,s.jsx)("span",{className:"detail-value",children:u(m.blockNumber.toString())})]}),(0,s.jsxs)("div",{className:"block-detail-item network-stat-full-width",children:[(0,s.jsx)("span",{className:"detail-label",children:"Fork Block Hash"}),(0,s.jsx)("span",{className:"detail-value tx-mono fork-hash-value",children:m.blockHash})]})]})]})]})})});k.displayName="NetworkStatsDisplay";const g=k;function w(){var e,r=(0,t.g)().networkId,n=Number(r)||1,u=(0,l.AE)(n),m=(0,i.J)(n),p=(0,a.useState)(null),f=p[0],v=p[1],x=(0,a.useState)(!0),N=x[0],b=x[1],k=(0,a.useState)(null),w=k[0],y=k[1],S=(0,c.j)("networkStats_".concat(n)),C=S[0],E=S[1],I=(0,o.V)(f,C);(0,a.useEffect)(function(){m?(b(!0),y(null),m.networkAdapter.getNetworkStats().then(function(e){v(e)}).catch(function(e){y(e.message||"Failed to fetch network stats")}).finally(function(){return b(!1)})):b(!1)},[m]);var P=((null===(e=null==u?void 0:u.name)||void 0===e?void 0:e.toUpperCase())||"OPENSCAN").replace(/^ETHEREUM\s*/i,"").trim(),F=(null==u?void 0:u.color)||"#627eea",A=P.length>0;return(0,s.jsx)("div",{className:"home-container",children:(0,s.jsxs)("div",{className:"home-content page-card",children:[(0,s.jsx)("h1",{className:"home-title network-title",children:A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"network-title-name",style:{textShadow:"0 0 10px ".concat(F,"80, 0 0 20px ").concat(F,"40")},children:P})," "]})}),(null==u?void 0:u.description)&&(0,s.jsx)("p",{className:"network-description",children:u.description}),(0,s.jsx)(h,{}),N&&(0,s.jsx)(d.A,{text:"Loading network stats..."}),w&&(0,s.jsxs)("p",{className:"error-text-center",children:["Error: ",w]}),I&&(0,s.jsx)(g,{networkStats:I,networkId:n,metadata:null==f?void 0:f.metadata,selectedProvider:C,onProviderSelect:E}),(0,s.jsx)(j,{network:u})]})})}},20684:(e,r,n)=>{n.d(r,{A:()=>i});var s=n(74848),a=n(96540),t=n(56577),l=a.memo(function(e){var r=e.subscription,n=e.size,a=void 0===n?"medium":n,l=e.showSuffix,i=void 0!==l&&l,c=e.className,o=void 0===c?"":c;if(!r||!(0,t.si)(r))return null;var d=(0,t.VA)(r.tier),u="small"===a?"tier-badge-small":"tier-badge-medium";return(0,s.jsxs)("span",{className:"tier-badge tier-badge-".concat(r.tier," ").concat(u," ").concat(o).trim(),children:[d,i]})});l.displayName="TierBadge";const i=l},49018:(e,r,n)=>{n.d(r,{N:()=>t});var s=n(74848),a=n(96540);function t(e){var r=e.metadata,n=e.selectedProvider,t=e.onProviderSelect,l=e.className,i=(0,a.useState)(!1),c=i[0],o=i[1],d=(0,a.useRef)(null),u=r.responses.filter(function(e){return"success"===e.status}).length,h=r.responses.length;return(0,a.useEffect)(function(){var e=function(e){d.current&&!d.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"rpc-indicator ".concat(l||""),ref:d,children:[(0,s.jsxs)("div",{className:"rpc-indicator-badge",onClick:function(){return o(!c)},title:"Click to see RPC provider details",children:[r.hasInconsistencies&&(0,s.jsx)("span",{className:"rpc-indicator-warning",title:"Inconsistent responses",children:"⚠️"}),(0,s.jsxs)("span",{className:"rpc-indicator-status",children:["✓ ",u,"/",h]})]}),c&&(0,s.jsxs)("div",{className:"rpc-indicator-dropdown",children:[(0,s.jsxs)("div",{className:"rpc-indicator-header",children:[(0,s.jsx)("strong",{children:"RPC Providers"}),(0,s.jsxs)("span",{className:"rpc-indicator-strategy",children:["Strategy: ",r.strategy]})]}),r.hasInconsistencies&&(0,s.jsx)("div",{className:"rpc-indicator-warning-banner",children:"⚠️ Responses differ between providers"}),(0,s.jsx)("div",{className:"rpc-indicator-list",children:r.responses.map(function(r,a){var l=n===r.url,i=function(r){try{var n=new URL(r).hostname;return n.length>30?"".concat(n.slice(0,15),"...").concat(n.slice(-12)):n}catch(e){return r.length>30?"".concat(r.slice(0,15),"...").concat(r.slice(-12)):r}}(r.url);return(0,s.jsxs)("div",{className:"rpc-indicator-item ".concat(l?"selected":""," ").concat(r.status),onClick:function(){"success"===r.status&&(t(r.url),o(!1))},children:[(0,s.jsxs)("div",{className:"rpc-indicator-item-header",children:[(0,s.jsxs)("span",{className:"rpc-indicator-item-index",children:["#",a+1]}),(0,s.jsx)("span",{className:"rpc-indicator-item-url",title:r.url,children:i}),(0,s.jsx)("span",{className:"rpc-indicator-item-status ".concat(r.status),children:"success"===r.status?"✓":"✗"})]}),"error"===r.status&&(0,s.jsx)("div",{className:"rpc-indicator-item-error",children:r.error}),l&&(0,s.jsx)("div",{className:"rpc-indicator-item-badge",children:"Selected"})]},r.url)})})]})]})}},54467:(e,r,n)=>{n.d(r,{j:()=>t});var s=n(96540),a="rpc_selected_provider_";function t(e){var r="".concat(a).concat(e),n=(0,s.useState)(function(){try{return sessionStorage.getItem(r)}catch(n){return null}}),t=n[0],l=n[1];return(0,s.useEffect)(function(){if(t)try{sessionStorage.setItem(r,t)}catch(e){console.warn("Failed to save provider selection:",e)}else try{sessionStorage.removeItem(r)}catch(e){console.warn("Failed to remove provider selection:",e)}},[t,r]),[t,l]}},70645:(e,r,n)=>{n.d(r,{V:()=>a});var s=n(96540);function a(e,r){return(0,s.useMemo)(function(){if(!e)return null;if(!e.metadata)return e.data;if(!r)return e.data;var n=e.metadata.responses.find(function(e){return e.url===r&&"success"===e.status});return n&&n.data?n.data:(console.warn("Selected provider ".concat(r," not found or failed, using default")),e.data)},[e,r])}}}]);