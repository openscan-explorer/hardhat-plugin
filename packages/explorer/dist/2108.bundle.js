"use strict";(self.webpackChunkopenscan=self.webpackChunkopenscan||[]).push([[2108],{82108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(74848),c=n(96540),r=n(34794),l=n(41574),s=n(3440),o=function(e,t,n,a){return new(n||(n=Promise))(function(c,r){function l(e){try{o(a.next(e))}catch(t){r(t)}}function s(e){try{o(a.throw(e))}catch(t){r(t)}}function o(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,s)}o((a=a.apply(e,t||[])).next())})},i=function(e,t){var n,a,c,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,s[0]&&(r=0)),r;)try{if(n=1,a&&(c=2&s[0]?a.return:s[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,s[1])).done)return c;switch(a=0,c&&(s=[2&s[0],c.value]),s[0]){case 0:case 1:c=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,a=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(c=r.trys,(c=c.length>0&&c[c.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!c||s[1]>c[0]&&s[1]<c[3])){r.label=s[1];break}if(6===s[0]&&r.label<c[1]){r.label=c[1],c=s;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(s);break}c[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(o){s=[6,o],a=0}finally{n=c=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},u=10;function d(){var e=this,t=(0,r.g)().networkId,n=(0,r.ok)()[0],d=(0,r.Zp)(),h=Number(t)||1,f=(0,l.J)(h),m=(0,c.useState)([]),x=m[0],b=m[1],p=(0,c.useState)(!0),j=p[0],g=p[1],N=(0,c.useState)(null),v=N[0],w=N[1],k=(0,c.useState)(null),y=k[0],S=k[1],L=(0,c.useState)(null),T=L[0],C=L[1],B=n.get("fromBlock"),F=B?Number(B):null;(0,c.useEffect)(function(){if(f){o(e,void 0,void 0,function(){var e,t,n,a,c;return i(this,function(r){switch(r.label){case 0:g(!0),w(null),r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,f.networkAdapter.getLatestBlockNumber()];case 2:return e=r.sent(),S(e),t=null!==F?F:e,n=Math.max(t-u+1,0),C({from:n,to:t}),[4,f.networkAdapter.getTransactionsFromBlockRange(t,u)];case 3:return a=r.sent(),console.log("Fetched transactions:",a),b(a),[3,6];case 4:return c=r.sent(),console.error("Error fetching transactions:",c),w(c.message||"Failed to fetch transactions"),[3,6];case 5:return g(!1),[7];case 6:return[2]}})})}else g(!1)},[f,F]);var E=function(e,t,n){return void 0===t&&(t=10),void 0===n&&(n=8),e?e.length<=t+n?e:"".concat(e.slice(0,t),"...").concat(e.slice(-n)):""},G=function(e){try{var t=Number(e)/1e18;return"".concat(t.toFixed(6)," ETH")}catch(n){return e}},_=function(e){try{var t=Number(e)/1e9;return"".concat(t.toFixed(2)," Gwei")}catch(n){return e}},A=function(){if(T&&null!==y){var e=Math.min(T.to+u,y);d(e>=y?"/".concat(t,"/txs"):"/".concat(t,"/txs?fromBlock=").concat(e))}},I=function(){if(T){var e=T.from-1;e>=0&&d("/".concat(t,"/txs?fromBlock=").concat(e))}},O=function(){d("/".concat(t,"/txs"))},P=null!==F&&null!==y&&F<y,V=null!==T&&T.from>0,H=null===F||null!==y&&F>=y;if(j)return(0,a.jsxs)("div",{className:"container-wide page-container-padded text-center page-card",children:[(0,a.jsx)("h1",{className:"page-title-small",children:"Latest Transactions"}),(0,a.jsx)(s.A,{text:"Loading transactions..."})]});if(v)return(0,a.jsxs)("div",{className:"container-wide page-container-padded text-center page-card",children:[(0,a.jsx)("h1",{className:"page-title-small",children:"Latest Transactions"}),(0,a.jsxs)("p",{className:"error-text",children:["Error: ",v]})]});var M=function(){return(0,a.jsxs)("div",{className:"pagination-container no-margin-top",children:[(0,a.jsx)("button",{onClick:O,disabled:H,className:"pagination-btn",title:"Go to latest transactions",children:"Latest"}),(0,a.jsx)("button",{onClick:A,disabled:!P,className:"pagination-btn",title:"View newer transactions",children:"← Newer"}),(0,a.jsx)("button",{onClick:I,disabled:!V,className:"pagination-btn",title:"View older transactions",children:"Older →"})]})};return(0,a.jsxs)("div",{className:"container-wide page-container-padded text-center page-card",children:[(0,a.jsx)("h1",{className:"page-title-small",children:"Latest Transactions"}),(0,a.jsx)("p",{className:"page-subtitle-text no-margin-bottom",children:H?"Showing ".concat(x.length," transactions from the last ").concat(u," blocks"):T?"Showing ".concat(x.length," transactions from blocks ").concat(T.from.toLocaleString()," - ").concat(T.to.toLocaleString()):"Showing ".concat(x.length," transactions")}),(0,a.jsx)(M,{}),0===x.length?(0,a.jsx)("p",{className:"table-cell-muted",children:"No transactions found in the selected block range"}):(0,a.jsx)("div",{className:"table-wrapper",children:(0,a.jsxs)("table",{className:"dash-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Tx Hash"}),(0,a.jsx)("th",{children:"Block"}),(0,a.jsx)("th",{children:"From"}),(0,a.jsx)("th",{children:"To"}),(0,a.jsx)("th",{children:"Value"}),(0,a.jsx)("th",{children:"Gas Price"}),(0,a.jsx)("th",{children:"Gas"})]})}),(0,a.jsx)("tbody",{children:x.map(function(e){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/tx/").concat(e.hash),className:"table-cell-hash",title:e.hash,children:E(e.hash)})}),(0,a.jsx)("td",{children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/block/").concat(e.blockNumber),className:"table-cell-value",children:e.blockNumber})}),(0,a.jsx)("td",{className:"table-cell-mono",title:e.from,children:(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(e.from),className:"table-cell-address",children:E(e.from)})}),(0,a.jsx)("td",{className:"table-cell-mono",title:e.to,children:e.to?(0,a.jsx)(r.N_,{to:"/".concat(t,"/address/").concat(e.to),className:"table-cell-address",children:E(e.to)}):(0,a.jsx)("span",{className:"table-cell-italic",children:"Contract Creation"})}),(0,a.jsx)("td",{className:"table-cell-value",children:G(e.value)}),(0,a.jsx)("td",{className:"table-cell-muted",children:_(e.gasPrice)}),(0,a.jsx)("td",{className:"table-cell-muted",children:Number(e.gas).toLocaleString()})]},e.hash)})})]})}),(0,a.jsx)(M,{})]})}}}]);