"use strict";(self.webpackChunkopenscan=self.webpackChunkopenscan||[]).push([[2283],{42283:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var l=a(74848),c=a(96540),n=a(34794),t=a(41574),i=a(54467),r=a(70645),d=a(3440),o=a(49018),x=c.memo(function(s){var e=s.block,a=s.networkId,t=s.metadata,i=s.selectedProvider,r=s.onProviderSelect,d=(0,c.useState)(!1),x=d[0],m=d[1],h=(0,c.useState)(!1),u=h[0],N=h[1],j=(0,c.useState)(!1),v=j[0],p=j[1],b=Number(e.number),g=function(s){try{var e=Number(s),a=new Date(1e3*e);return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}).format(a)}catch(l){return s}}(e.timestamp),w=function(s){var e=1e3*Number(s),a=Date.now()-e,l=Math.floor(Math.abs(a)/1e3);if(l<5)return a>=0?"just now":"in a few seconds";for(var c=0,n=[{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60}];c<n.length;c++){var t=n[c];if(l>=t.seconds){var i=Math.floor(l/t.seconds),r=1===i?"":"s";return a>=0?"".concat(i," ").concat(t.label).concat(r," ago"):"in ".concat(i," ").concat(t.label).concat(r)}}return a>=0?"".concat(l," second").concat(1===l?"":"s"," ago"):"in ".concat(l," second").concat(1===l?"":"s")}(e.timestamp),f=(Number(e.gasUsed)/Number(e.gasLimit)*100).toFixed(1),k=e.baseFeePerGas?(BigInt(e.gasUsed)*BigInt(e.baseFeePerGas)).toString():null;return(0,l.jsxs)("div",{className:"block-display-card",children:[(0,l.jsxs)("div",{className:"block-display-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)("span",{className:"block-label",children:"Block Details"}),t&&void 0!==i&&r&&(0,l.jsx)(o.N,{metadata:t,selectedProvider:i,onProviderSelect:r})]}),(0,l.jsxs)("div",{className:"tx-details",children:[(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Block Height:"}),(0,l.jsxs)("span",{className:"tx-value",children:[(0,l.jsx)("span",{className:"block-height-value",children:b.toLocaleString()}),a&&(0,l.jsxs)("span",{className:"block-nav",children:[b>0&&(0,l.jsx)(n.N_,{to:"/".concat(a,"/block/").concat(b-1),className:"block-nav-btn",title:"Previous block",children:"â†"}),(0,l.jsx)(n.N_,{to:"/".concat(a,"/block/").concat(b+1),className:"block-nav-btn",title:"Next block",children:"â†’"})]})]})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Timestamp:"}),(0,l.jsxs)("span",{className:"tx-value",children:[(0,l.jsx)("span",{className:"tx-age",children:w}),(0,l.jsxs)("span",{className:"tx-timestamp-full",children:["(",g,")"]})]})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Transactions:"}),(0,l.jsxs)("span",{className:"tx-value",children:[(0,l.jsxs)("span",{className:"tx-value-highlight",children:[e.transactions?e.transactions.length:0," transactions"]})," ","in this block"]})]}),e.withdrawals&&e.withdrawals.length>0&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Withdrawals:"}),(0,l.jsxs)("span",{className:"tx-value",children:[e.withdrawals.length," withdrawal",1!==e.withdrawals.length?"s":""," in this block"]})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Fee Recipient:"}),(0,l.jsx)("span",{className:"tx-value tx-mono",children:a?(0,l.jsx)(n.N_,{to:"/".concat(a,"/address/").concat(e.miner),className:"link-accent",children:e.miner}):e.miner})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Gas Used:"}),(0,l.jsxs)("span",{className:"tx-value",children:[Number(e.gasUsed).toLocaleString(),(0,l.jsxs)("span",{className:"tx-gas-pct",children:[" (",f,"%)"]})]})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Gas Limit:"}),(0,l.jsx)("span",{className:"tx-value",children:Number(e.gasLimit).toLocaleString()})]}),e.baseFeePerGas&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Base Fee Per Gas:"}),(0,l.jsx)("span",{className:"tx-value",children:function(s){try{var e=Number(s)/1e9;return"".concat(e.toFixed(9)," Gwei")}catch(a){return s}}(e.baseFeePerGas)})]}),k&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Burnt Fees:"}),(0,l.jsx)("span",{className:"tx-value",children:(0,l.jsxs)("span",{className:"burnt-fees",children:["ðŸ”¥ ",function(s){try{var e=Number(s)/1e18;return"".concat(e.toFixed(12)," ETH")}catch(a){return s}}(k)]})})]}),e.extraData&&"0x"!==e.extraData&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Extra Data:"}),(0,l.jsx)("span",{className:"tx-value tx-mono",children:e.extraData})]}),Number(e.difficulty)>0&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Difficulty:"}),(0,l.jsx)("span",{className:"tx-value",children:Number(e.difficulty).toLocaleString()})]}),Number(e.totalDifficulty)>0&&(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Total Difficulty:"}),(0,l.jsx)("span",{className:"tx-value",children:Number(e.totalDifficulty).toLocaleString()})]}),(0,l.jsxs)("div",{className:"tx-row",children:[(0,l.jsx)("span",{className:"tx-label",children:"Size:"}),(0,l.jsxs)("span",{className:"tx-value",children:[Number(e.size).toLocaleString()," bytes"]})]}),function(s){return"l1BlockNumber"in s}(e)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"tx-row tx-row-arbitrum",children:[(0,l.jsx)("span",{className:"tx-label",children:"L1 Block Number:"}),(0,l.jsx)("span",{className:"tx-value",children:Number(e.l1BlockNumber).toLocaleString()})]}),(0,l.jsxs)("div",{className:"tx-row tx-row-arbitrum",children:[(0,l.jsx)("span",{className:"tx-label",children:"Send Count:"}),(0,l.jsx)("span",{className:"tx-value",children:e.sendCount})]}),(0,l.jsxs)("div",{className:"tx-row tx-row-arbitrum",children:[(0,l.jsx)("span",{className:"tx-label",children:"Send Root:"}),(0,l.jsx)("span",{className:"tx-value tx-mono",children:e.sendRoot})]})]}),(0,l.jsxs)("div",{className:"tx-row tx-row-vertical",children:[(0,l.jsxs)("button",{className:"more-details-toggle",onClick:function(){return p(!v)},children:[v?"âˆ’ Hide":"+ Show"," More Details"]}),v&&(0,l.jsxs)("div",{className:"more-details-content",children:[(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Hash:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.hash})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Parent Hash:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:a&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.parentHash?(0,l.jsx)(n.N_,{to:"/".concat(a,"/block/").concat(b-1),className:"link-accent",children:e.parentHash}):e.parentHash})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"State Root:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.stateRoot})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Transactions Root:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.transactionsRoot})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Receipts Root:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.receiptsRoot})]}),e.withdrawalsRoot&&(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Withdrawals Root:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.withdrawalsRoot})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Logs Bloom:"}),(0,l.jsx)("div",{className:"detail-value",children:(0,l.jsx)("code",{className:"logs-bloom",children:e.logsBloom})})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Nonce:"}),(0,l.jsx)("span",{className:"detail-value",children:e.nonce})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Mix Hash:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.mixHash})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Sha3 Uncles:"}),(0,l.jsx)("span",{className:"detail-value tx-mono",children:e.sha3Uncles})]})]})]})]}),e.transactions&&e.transactions.length>0&&(0,l.jsxs)("div",{className:"tx-section",children:[(0,l.jsx)("div",{className:"tx-section-header",children:(0,l.jsxs)("button",{className:"tx-section-toggle",onClick:function(){return N(!u)},children:[(0,l.jsxs)("span",{className:"tx-section-title",children:["Transactions (",e.transactions.length,")"]}),(0,l.jsx)("span",{className:"tx-section-arrow",children:u?"â–¼":"â–¶"})]})}),u&&(0,l.jsx)("div",{className:"tx-list",children:e.transactions.map(function(s,e){return(0,l.jsxs)("div",{className:"tx-list-item",children:[(0,l.jsx)("span",{className:"tx-list-index",children:e}),(0,l.jsx)("span",{className:"tx-list-hash tx-mono",children:a?(0,l.jsx)(n.N_,{to:"/".concat(a,"/tx/").concat(s),className:"link-accent",children:s}):s})]},s)})})]}),e.withdrawals&&e.withdrawals.length>0&&(0,l.jsxs)("div",{className:"tx-section",children:[(0,l.jsx)("div",{className:"tx-section-header",children:(0,l.jsxs)("button",{className:"tx-section-toggle",onClick:function(){return m(!x)},children:[(0,l.jsxs)("span",{className:"tx-section-title",children:["Withdrawals (",e.withdrawals.length,")"]}),(0,l.jsx)("span",{className:"tx-section-arrow",children:x?"â–¼":"â–¶"})]})}),x&&(0,l.jsx)("div",{className:"tx-logs",children:e.withdrawals.map(function(s,e){return(0,l.jsxs)("div",{className:"tx-log",children:[(0,l.jsx)("div",{className:"tx-log-index",children:e}),(0,l.jsxs)("div",{className:"tx-log-content",children:[(0,l.jsxs)("div",{className:"tx-log-row",children:[(0,l.jsx)("span",{className:"tx-log-label",children:"Index"}),(0,l.jsx)("span",{className:"tx-log-value",children:Number(s.index).toLocaleString()})]}),(0,l.jsxs)("div",{className:"tx-log-row",children:[(0,l.jsx)("span",{className:"tx-log-label",children:"Validator"}),(0,l.jsx)("span",{className:"tx-log-value",children:Number(s.validatorIndex).toLocaleString()})]}),(0,l.jsxs)("div",{className:"tx-log-row",children:[(0,l.jsx)("span",{className:"tx-log-label",children:"Address"}),(0,l.jsx)("span",{className:"tx-log-value tx-mono",children:a?(0,l.jsx)(n.N_,{to:"/".concat(a,"/address/").concat(s.address),className:"link-accent",children:s.address}):s.address})]}),(0,l.jsxs)("div",{className:"tx-log-row",children:[(0,l.jsx)("span",{className:"tx-log-label",children:"Amount"}),(0,l.jsxs)("span",{className:"tx-log-value tx-value-highlight",children:[(Number(s.amount)/1e9).toFixed(9)," ETH"]})]})]})]},e)})})]})]})});x.displayName="BlockDisplay";const m=x;function h(){var s=(0,n.g)(),e=s.networkId,a=s.filter,o="latest"===a?"latest":Number(a),x=Number(e)||1,h=(0,t.J)(x),u=(0,c.useState)(null),N=u[0],j=u[1],v=(0,c.useState)(!0),p=v[0],b=v[1],g=(0,c.useState)(null),w=g[0],f=g[1],k=(0,i.j)("block_".concat(x,"_").concat(o)),y=k[0],S=k[1],F=(0,r.V)(N,y);return(0,c.useEffect)(function(){h&&void 0!==o?(console.log("Fetching block:",o,"for chain:",x),b(!0),f(null),h.networkAdapter.getBlock(o).then(function(s){console.log("Fetched block:",s),j(s)}).catch(function(s){console.error("Error fetching block:",s),f(s.message||"Failed to fetch block")}).finally(function(){return b(!1)})):b(!1)},[h,o,x]),p?(0,l.jsx)("div",{className:"container-wide",children:(0,l.jsxs)("div",{className:"block-display-card",children:[(0,l.jsxs)("div",{className:"block-display-header",children:[(0,l.jsx)("span",{className:"block-label",children:"Block"}),(0,l.jsxs)("span",{className:"tx-mono header-subtitle",children:["#",a]})]}),(0,l.jsx)("div",{className:"card-content-loading",children:(0,l.jsx)(d.A,{text:"Loading block data..."})})]})}):w?(0,l.jsx)("div",{className:"container-wide",children:(0,l.jsxs)("div",{className:"block-display-card",children:[(0,l.jsxs)("div",{className:"block-display-header",children:[(0,l.jsx)("span",{className:"block-label",children:"Block"}),(0,l.jsxs)("span",{className:"tx-mono header-subtitle",children:["#",a]})]}),(0,l.jsx)("div",{className:"card-content",children:(0,l.jsxs)("p",{className:"text-error margin-0",children:["Error: ",w]})})]})}):(0,l.jsx)("div",{className:"container-wide",children:F?(0,l.jsx)(m,{block:F,networkId:e,metadata:null==N?void 0:N.metadata,selectedProvider:y,onProviderSelect:S}):(0,l.jsxs)("div",{className:"block-display-card",children:[(0,l.jsx)("div",{className:"block-display-header",children:(0,l.jsx)("span",{className:"block-label",children:"Block"})}),(0,l.jsx)("div",{className:"card-content",children:(0,l.jsx)("p",{className:"text-muted margin-0",children:"Block not found"})})]})})}},49018:(s,e,a)=>{a.d(e,{N:()=>n});var l=a(74848),c=a(96540);function n(s){var e=s.metadata,a=s.selectedProvider,n=s.onProviderSelect,t=s.className,i=(0,c.useState)(!1),r=i[0],d=i[1],o=(0,c.useRef)(null),x=e.responses.filter(function(s){return"success"===s.status}).length,m=e.responses.length;return(0,c.useEffect)(function(){var s=function(s){o.current&&!o.current.contains(s.target)&&d(!1)};return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}},[]),(0,l.jsxs)("div",{className:"rpc-indicator ".concat(t||""),ref:o,children:[(0,l.jsxs)("div",{className:"rpc-indicator-badge",onClick:function(){return d(!r)},title:"Click to see RPC provider details",children:[e.hasInconsistencies&&(0,l.jsx)("span",{className:"rpc-indicator-warning",title:"Inconsistent responses",children:"âš ï¸"}),(0,l.jsxs)("span",{className:"rpc-indicator-status",children:["âœ“ ",x,"/",m]})]}),r&&(0,l.jsxs)("div",{className:"rpc-indicator-dropdown",children:[(0,l.jsxs)("div",{className:"rpc-indicator-header",children:[(0,l.jsx)("strong",{children:"RPC Providers"}),(0,l.jsxs)("span",{className:"rpc-indicator-strategy",children:["Strategy: ",e.strategy]})]}),e.hasInconsistencies&&(0,l.jsx)("div",{className:"rpc-indicator-warning-banner",children:"âš ï¸ Responses differ between providers"}),(0,l.jsx)("div",{className:"rpc-indicator-list",children:e.responses.map(function(e,c){var t=a===e.url,i=function(e){try{var a=new URL(e).hostname;return a.length>30?"".concat(a.slice(0,15),"...").concat(a.slice(-12)):a}catch(s){return e.length>30?"".concat(e.slice(0,15),"...").concat(e.slice(-12)):e}}(e.url);return(0,l.jsxs)("div",{className:"rpc-indicator-item ".concat(t?"selected":""," ").concat(e.status),onClick:function(){"success"===e.status&&(n(e.url),d(!1))},children:[(0,l.jsxs)("div",{className:"rpc-indicator-item-header",children:[(0,l.jsxs)("span",{className:"rpc-indicator-item-index",children:["#",c+1]}),(0,l.jsx)("span",{className:"rpc-indicator-item-url",title:e.url,children:i}),(0,l.jsx)("span",{className:"rpc-indicator-item-status ".concat(e.status),children:"success"===e.status?"âœ“":"âœ—"})]}),"error"===e.status&&(0,l.jsx)("div",{className:"rpc-indicator-item-error",children:e.error}),t&&(0,l.jsx)("div",{className:"rpc-indicator-item-badge",children:"Selected"})]},e.url)})})]})]})}},54467:(s,e,a)=>{a.d(e,{j:()=>n});var l=a(96540),c="rpc_selected_provider_";function n(s){var e="".concat(c).concat(s),a=(0,l.useState)(function(){try{return sessionStorage.getItem(e)}catch(a){return null}}),n=a[0],t=a[1];return(0,l.useEffect)(function(){if(n)try{sessionStorage.setItem(e,n)}catch(s){console.warn("Failed to save provider selection:",s)}else try{sessionStorage.removeItem(e)}catch(s){console.warn("Failed to remove provider selection:",s)}},[n,e]),[n,t]}},70645:(s,e,a)=>{a.d(e,{V:()=>c});var l=a(96540);function c(s,e){return(0,l.useMemo)(function(){if(!s)return null;if(!s.metadata)return s.data;if(!e)return s.data;var a=s.metadata.responses.find(function(s){return s.url===e&&"success"===s.status});return a&&a.data?a.data:(console.warn("Selected provider ".concat(e," not found or failed, using default")),s.data)},[s,e])}}}]);